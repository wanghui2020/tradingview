(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22e94f06"],{"0117":function(t,a,e){},"0142":function(t,a,e){},"0607":function(t,a,e){},"0ba8":function(t,a,e){},"0ca7":function(t,a,e){"use strict";var s=e("1d97"),i=e.n(s);i.a},"0fe7":function(t,a,e){"use strict";var s=e("fae2"),i=e.n(s);i.a},1050:function(t,a,e){},1433:function(t,a,e){},1938:function(t,a,e){},"1cee":function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAKRJREFUSA1jYBgFoyEwGgJDMgQa5u/nAGFyHM9IqiaQRX9fPdoA0scsJhfQkOj4gxQzSLIQZtn////dQZYwMjLuJNVSoi1EtwzmK1ItJcpCXJaRYylBCwlZRqqleC0k1jJSLMVpIamWEWspVgvJtYwYSzEspNQyQpaiWEgty/BZygKTBNOvXwswMzF1ANkgTB0ANBNo0AvqGDZqymgIjIYANUIAAAhMfaZEhW2aAAAAAElFTkSuQmCC"},"1d97":function(t,a,e){},2087:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"order-book"}},[t.isSmall?t._e():e("h3",{staticClass:"exchange-title"},[t._v(t._s(t.$t("Order Book")))]),e("div",{staticClass:"order-book-cont"},[e("dl",[e("dt",[e("div",{staticClass:"inner"},[e("span",{staticClass:"price"},[t._v(" "+t._s(t.$t("el.market.newprice"))+"("+t._s(t.nowPairData.localData.quoteAsset)+") ")]),e("span",{staticClass:"amount"},[t._v(" "+t._s(t.$t("el.market.newAmount"))),t.nowPairData.localData.baseAsset.length<5?e("span",[t._v("("+t._s(t.nowPairData.localData.baseAsset)+")")]):t._e()]),e("span",{staticClass:"total"},[t._v(" "+t._s(t.$t("Total"))),t.nowPairData.localData.baseAsset.length<5?e("span",[t._v("("+t._s(t.nowPairData.localData.baseAsset)+")")]):t._e()])])])]),e("div",{staticClass:"order-sell",attrs:{id:"orderSell"}},[e("dl",{staticStyle:{"max-height":"100%","overflow-y":"auto"},attrs:{id:"orderSellDl"}},t._l(t.sellData,(function(a,s){return e("dd",{key:s},[e("div",{staticClass:"inner sell red",class:-1!==t.currentOrderList.indexOf(a[0])?"in":""},[e("span",{staticClass:"proportion",style:t.setWidth(a[2])}),e("span",{staticClass:"price",on:{click:function(e){return t.changeFocusSell("price",a)}}},[t._v(" "+t._s(a[0])+" ")]),e("span",{staticClass:"amount",on:{click:function(e){return t.changeFocusSell("amount",a)}}},[t._v(" "+t._s(a[1])+" ")]),e("span",{staticClass:"total",on:{click:function(e){return t.changeFocusSell("total",a)}}},[t._v(" "+t._s(a[2])+" ")])])])})),0)]),e("div",{staticClass:"average",class:t.tradesChangeType},[t._v(" "+t._s(parseFloat(t.nowPairData.marketData.n).toLocaleString(void 0,{maximumFractionDigits:4}))+" "),e("span",{staticClass:"arrow"}),e("span",{staticClass:"refPrice"},[t._v(t._s(t.nowPairData.marketData.nl.substr(0,1)+parseFloat(t.nowPairData.marketData.nl.substr(1)).toLocaleString(void 0,{maximumFractionDigits:4})))])]),e("div",{staticClass:"order-buy"},[e("dl",{staticStyle:{"max-height":"100%","overflow-y":"auto"},attrs:{id:"orderBuyDl"}},t._l(t.buyData,(function(a,s){return e("dd",{key:s},[e("div",{staticClass:"inner buy green",class:-1!==t.currentOrderList.indexOf(a[0])?"in":""},[e("span",{staticClass:"proportion",style:t.setWidth(a[2])}),e("span",{staticClass:"price",on:{click:function(e){return t.changeFocusBuy("price",a)}}},[t._v(" "+t._s(a[0])+" ")]),e("span",{staticClass:"amount",on:{click:function(e){return t.changeFocusBuy("amount",a)}}},[t._v(" "+t._s(a[1])+" ")]),e("span",{staticClass:"total",on:{click:function(e){return t.changeFocusBuy("total",a)}}},[t._v(" "+t._s(a[2])+" ")])])])})),0)])])])},i=[],o=(e("cb29"),e("4160"),e("c975"),e("d81d"),e("b0c0"),e("b680"),e("d3b7"),e("ac1f"),e("25f0"),e("1276"),e("159b"),e("5530")),n=e("5880"),r=e("2ef0"),l=e.n(r),c=e("563f"),u=e("4b5c"),h=e("711d"),d={props:["tradesChangeType","isSmall"],computed:Object(o["a"])({},Object(n["mapGetters"])(["market","nowPairData"])),data:function(){return{oldTradepair:"",sellData:[],buyData:[],depth:0,average:"0.00",getOrderData:null,timer:null,selectPrice:0,pricePrecision:0,cntPrecision:0,pricePrecisionNum:0,cntPrecisionNum:0,getPrecision:null,allowRequests:!0,isWebSocket:!1,subscribedTradePair:"",currentOrderList:[],operation:{bar:{background:"#425e76"}}}},watch:{"nowPairData.localData.tradePair":function(t){this.reset(),this.isWebSocket&&(u["a"].send({op:"unsub",topic:"market.orderlist."+this.subscribedTradePair+".14"||!1}),u["a"].send({op:"sub",topic:"market.orderlist."+t+".14"||!1}),this.subscribedTradePair=t.toString(),this.sendOrderListUnsub(),this.sendOrderListSub())}},mounted:function(){var t=this;try{this.sellData=JSON.parse(localStorage.getItem("sellData")),this.buyData=JSON.parse(localStorage.getItem("buyData"))}catch(a){console.log(a)}u["a"].register(this,(function(a,e){a&&console.error(a),t.isWebSocket=e}))},beforeDestroy:function(){u["a"].unregister(this),this.allowRequests=!1,clearInterval(this.timer)},methods:{sendOrderListUnsub:function(){this.isWebSocket&&u["a"].send({op:"unsub",topic:"account.ListNoCount."+this.oldTradepair,rid:""})},sendOrderListSub:function(){if(this.isWebSocket){var t=new Date,a=this.commonApi.user;null!=a&&null!=a.token&&(this.oldTradepair=this.subscribedTradePair,u["a"].send({op:"sub",topic:"account.ListNoCount."+this.subscribedTradePair,rid:(0-t.getTimezoneOffset())/60+",1,10,Bearer "+a.token}))}},getCurrentOrder:function(){var t=this;this.commonApi.user&&(this.nowPairData.localData.tradePairName&&(this.currenttradeStr=this.nowPairData.localData.tradePairName.split("/")[0]+this.nowPairData.localData.tradePairName.split("/")[1]),"Exchange"!==this.$route.name&&"Margin"!==this.$route.name||this.$http.get("/account/trade/curorder/listNoCount",{params:{pageNum:1,pageSize:10,symbol:this.currenttradeStr}}).then((function(a){t.currentOrderList=[],a.data.data.list.length>0&&l.a.map(a.data.data.list,(function(a){var e=h["a"].getTradePair(a.tradePair);if(e){var s=c["a"].toFloat(a.orderPrice,e.pricePrecision);t.currentOrderList.push(s)}}))})).catch((function(a){t.currentOrderList=[],console.warn(a+"")})).finally((function(){t.timer=setTimeout((function(){t.getCurrentOrder()}),1250)})))},setDepthAndOrderBook:function(t,a){var e=0,s=0;if(0!==a.length&&""!==a[0][2]&&(e=1*a[a.length-1][2]),0!==t.length&&""!==t[0][2]&&(s=1*t[0][2]),this.buyData=a,this.sellData=t,localStorage.setItem("sellData",JSON.stringify(this.sellData)),localStorage.setItem("buyData",JSON.stringify(this.buyData)),this.sellData.length>0){var i=document.getElementById("orderSellDl");i.scrollTop=i.scrollHeight}this.depth=Math.max(e,s)},totalAddNum:function(t){var a=this,e=0,s=[];return l.a.map(t,(function(t){if(""!==t[1]){e=c["a"].accAdd(e,t[1]).toFixed(a.nowPairData.localData.volumePrecision);var i=[];i[0]=t[0],i[1]=t[1],i[2]=e,s.push(i)}})),s},reset:function(){console.log("reset order data"),this.buyData=[],this.sellData=[]},onWebSocketOpen:function(){this.allowRequests=!1,this.isWebSocket=!0,u["a"].send({op:"sub",topic:"market.orderlist."+this.nowPairData.localData.tradePair+".14"||!1}),this.subscribedTradePair=this.nowPairData.localData.tradePair.toString(),this.sendOrderListSub()},onWebSocketMessage:function(t){var a=this;this.isWebSocket=!0,this.allowRequests=!1,t.data&&(-1!==t.topic.indexOf(".orderlist.")&&-1!==t.topic.indexOf(this.nowPairData.localData.tradePair)?(t.full&&(this.buyData=l.a.fill(Array(50),["","",""]),this.sellData=l.a.fill(Array(50),["","",""]),console.log(" json.full is true")),this.handleOrderlist(t.data)):null!=t&&t.Topic=="account.ListNoCount."+this.nowPairData.localData.tradePair&&(this.currentOrderList=[],null!=t.Data.data.list&&t.Data.data.list.length>0&&l.a.map(t.Data.data.list,(function(t){var e=h["a"].getTradePair(t.tradePair);if(e){var s=c["a"].toFloat(t.orderPrice,e.pricePrecision);a.currentOrderList.push(s)}}))))},onWebSocketClose:function(){this.isWebSocket&&(this.isWebSocket=!1,this.allowRequests=!0)},handleOrderlist:function(t){var a=[],e=[];this.$store.commit("getNowPairData",t.quote),t.full||(a=l.a.cloneDeep(this.sellData),e=l.a.cloneDeep(this.buyData)),0!==t.orderDepth.asks.length&&(a=this.priceSort(a,t.orderDepth.asks,!0)),0!==t.orderDepth.bids.length&&(e=this.priceSort(e,t.orderDepth.bids,!1)),this.setDepthAndOrderBook(a,e)},priceSort:function(t,a,e){var s={};return l.a.forEach(t,(function(t){t[0]&&(s[t[0]]=t)})),l.a.forEach(a,(function(t){var a=t[0],e=t[1];"0"===e?delete s[a]:s[a]=t})),t=l.a.orderBy(s,(function(t){return 1*t[0]}),"desc"),t=e?this.totalAddNum(t.reverse()).reverse():this.totalAddNum(t),t},changeFocusSell:function(t,a){var e="";e="price"===t?a[0]:"amount"===t?a[1]:a[2],this.$emit("priceSelect",{type:"sell",field:t,value:e,price:a[0]})},changeFocusBuy:function(t,a){var e="";e="price"===t?a[0]:"amount"===t?a[1]:a[2],this.$emit("priceSelect",{type:"buy",field:t,value:e,price:a[0]})},setWidth:function(t){return""===t?{width:0}:{width:t/this.depth*100+"%"}},isUpDown:function(){var t=parseFloat(this.nowPairData.marketData.p);return t>0?"up":t<0?"down":"normal"}}},p=d,m=(e("8897"),e("6c9d"),e("2877")),v=Object(m["a"])(p,s,i,!1,null,"323b1a3e",null);a["a"]=v.exports},2172:function(t,a,e){},"2a07":function(t,a,e){"use strict";var s=e("4386"),i=e.n(s);i.a},"2bfd":function(t,a,e){},"2f53":function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAALtJREFUSA1jYBgFoyEwGgIDHQKMyA5o6FolwcD4UwNZjGL2f/YbDWVhL2DmsMAYYFpU9MPfV48q/v//744iTiaHkZFxJ7OYaACydhQfgiQa5u/nAFq6gVJLIZbJBTQkOv7AayE1LMVlGchsDB/CXEOuT/FZhtdCkCSplhKyjKCFpFhKjGVEWUiMpcRaRrSF+CwlxTKSLMRmKamWkWwhsqUgNrMYZj4DiVMdgFIvCFPd4FEDR0NgNAToEgIAU+x7tFIeAnwAAAAASUVORK5CYII="},3183:function(t,a,e){"use strict";var s=e("9d13"),i=e.n(s);i.a},3408:function(t,a,e){},"36d6":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("main",[e("div",{attrs:{id:"kyc"}},[e("vodal",{attrs:{width:460,background:"white",height:305+1*[t.emailJudge?25:0]+1*[t.googleJudge?25:0]+1*[t.phoneNoJudeg?25:0]+1*[t.mobileJudge?25:0]+1*[t.pinJudge?25:0],show:t.kycShow,animation:"rotate"},on:{hide:t.close}},[e("header",{staticClass:"vodal-title"},[t._v(t._s(t.$t("el.settings.set")))]),e("div",{staticClass:"content"},[e("div",{staticClass:"icon"}),e("p",{staticClass:"lists-tit"},[t._v(t._s(t.$t("el.settings.msg"))+":")]),t.emailJudge?e("p",{staticClass:"item"},[t._v(t._s(t.$t("el.settings.mail")))]):t._e(),t.googleJudge?e("p",{staticClass:"item"},[t._v(t._s(t.$t("el.settings.google")))]):t._e(),t.phoneNoJudeg?e("p",{staticClass:"item"},[t._v(t._s(t.$t("el.settings.cellphone")))]):t._e(),t.mobileJudge?e("p",{staticClass:"item"},[t._v(t._s(t.$t("el.settings.mobile")))]):t._e(),t.pinJudge?e("p",{staticClass:"item"},[t._v(t._s(t.$t("el.settings.pin")))]):t._e(),e("div",{staticClass:"btn",on:{click:t.close}},[t._v(t._s(t.$t("el.settings.settings")))])])])],1)])])},i=[],o=(e("b0c0"),e("efe3")),n=(e("6d1e"),{props:["recharge","kycShow","kycType"],data:function(){return{userMsg:{},emailStatus:1,email:!1,phone:!1,googleBind:!1,pinSetting:!1,emailJudge:!1,mobileJudge:!1,pinJudge:!1,phoneNoJudeg:!1,googleJudge:!1}},methods:{close:function(){this.$emit("kycChange"),"settings"!==this.$router.name&&this.$router.push({path:"/settings"}).catch((function(){}))},loadUserInfo:function(){var t=this;this.commonApi.user&&this.$http.get("/user/userInfo").then((function(a){var e=a.data;t.userMsg=e.data,t.getCommonApiUser()})).catch((function(t){console.log(t)}))},getCommonApiUser:function(){switch(this.userMsg?(this.emailStatus=this.userMsg.emailStatus,this.email=3===this.userMsg.emailStatus,this.phone=!!this.userMsg.phone,this.googleBind=!!this.userMsg.googleBind,this.pinSetting=!!this.userMsg.pinSetting):this.user="",this.emailJudge=!1,this.mobileJudge=!1,this.pinJudge=!1,this.googleJudge=!1,this.phoneNoJudge=!1,this.kycType){case"kycPhone":case"kycGoogle":3!==this.emailStatus&&(this.emailJudge=!0);break;case"kycverify":3!==this.emailStatus&&(this.emailJudge=!0),this.googleBind||this.phone||(this.mobileJudge=!0);break;case"kycPin":3!==this.emailStatus&&(this.emailJudge=!0),this.googleBind||this.phone||(this.mobileJudge=!0);break;case"kycVerifyWay":this.googleBind||(3!==this.emailStatus&&(this.emailJudge=!0),this.googleJudge=!0),this.phone||(this.phoneNoJudeg=!0);break;case"kycTransaction":3!==this.emailStatus&&(this.emailJudge=!0),this.mobileJudge=!0;break;case"kycRecharge":3!==this.emailStatus&&(this.emailJudge=!0);break;case"kycWithdraw":case"kycAddresses":this.pinJudge=!0,this.googleBind||this.phone?this.phone||3!==this.emailStatus&&(this.emailJudge=!0,this.mobileJudge=!0):(3!==this.emailStatus&&(this.emailJudge=!0),this.phone||(this.mobileJudge=!0),this.googleBind||(this.googleJudge=!0));break;case"kycMyApi":this.pinJudge=!0,this.googleBind||this.phone?this.phone||3!==this.emailStatus&&(this.emailJudge=!0,this.mobileJudge=!0):(3!==this.emailStatus&&(this.emailJudge=!0),this.mobileJudge=!0);break;case"kycOtcTrade":3!==this.emailStatus&&(this.emailJudge=!0),this.phone||(this.phoneNoJudeg=!0);break}}},components:{vodal:o["a"]},watch:{kycType:function(){this.loadUserInfo()},kycShow:function(){this.loadUserInfo()}},mounted:function(){this.loadUserInfo()}}),r=n,l=(e("6c2f"),e("2877")),c=Object(l["a"])(r,s,i,!1,null,"08a77d8c",null);a["a"]=c.exports},"37fc":function(t,a,e){"use strict";var s=e("0ba8"),i=e.n(s);i.a},"3ad0":function(t,a,e){},"3d28":function(t,a,e){"use strict";var s=e("c40d"),i=e.n(s);i.a},4386:function(t,a,e){},"4ff6":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{ref:"tradesWrap",staticClass:"tradesWrap"},[t.isSmall?e("v-tabs",{attrs:{color:"#000000","active-class":"activated","slider-color":"#2d60e0",height:"45",dark:"","fixed-tabs":"",centered:"","show-arrows":t.showArrows,"hide-slider":""},model:{value:t.activeTab,callback:function(a){t.activeTab=a},expression:"activeTab"}},[e("v-tab",{key:"order",attrs:{href:"#order"}},[t._v(" "+t._s(t.$t("Order Book"))+" ")]),e("v-tab",{key:"trade",attrs:{href:"#trade"}},[t._v(" "+t._s(t.$t("Market Trades"))+" ")])],1):t._e(),e("v-tabs-items",{model:{value:t.activeTab,callback:function(a){t.activeTab=a},expression:"activeTab"}},[e("v-tab-item",{staticClass:"first",attrs:{value:"order",name:"order"}},[e("quotationChart",{attrs:{isSmall:t.isSmall,tradesChangeType:t.tradesChangeType},on:{priceSelect:t.priceSelect}})],1),e("v-tab-item",{staticClass:"first",attrs:{value:"trade",name:"trade"}},[t.isSmall?t._e():e("h3",{staticClass:"exchange-title"},[t._v(t._s(t.$t("Market Trades")))]),e("dt",[e("div",{staticClass:"inner"},[e("span",{staticClass:"price"},[t._v(t._s(t.$t("el.market.newprice"))+"("+t._s(t.nowPairData.localData.quoteAsset)+")")]),e("span",{staticClass:"amount"},[t._v(t._s(t.$t("el.market.newAmount"))),t.nowPairData.localData.baseAsset.length<5?e("span",[t._v("("+t._s(t.nowPairData.localData.baseAsset)+")")]):t._e()]),e("span",{staticClass:"layer"},[t._v(t._s(t.$t("el.market.newDate")))])])]),e("dl",{staticClass:"dealInfo"},[e("vue-scroll",{attrs:{ops:t.operation}},[t.isWebSocket?t.isWebSocket?e("div",t._l(t.dealData,(function(a,s){return e("dd",{key:s},[e("div",{staticClass:"inner",class:"b"==a[3]?"green":"red"},[e("span",{staticClass:"price"},[t._v(t._s(a[0]))]),e("span",{staticClass:"amount"},[e("i"),t._v(t._s(a[1]))]),e("span",{staticClass:"layer"},[t._v(t._s(a[2]))])])])})),0):t._e():e("div",t._l(t.dealData,(function(a,s){return e("dd",{key:s},[e("div",{staticClass:"inner",class:"buy"==a.d?"green":"red"},[e("span",{staticClass:"price"},[t._v(t._s(a.p))]),e("span",{staticClass:"amount"},[e("i"),t._v(t._s(a.v))]),e("span",{staticClass:"layer"},[t._v(t._s(a.t))])])])})),0)])],1)])],1)],1)},i=[],o=(e("99af"),e("c975"),e("d81d"),e("a434"),e("b0c0"),e("d3b7"),e("ac1f"),e("25f0"),e("1276"),e("5530")),n=e("5880"),r=e("4b5c"),l=e("2087"),c={computed:Object(o["a"])({},Object(n["mapGetters"])(["market","nowPairData"])),props:["isSmall","tradesChangeType"],data:function(){return{dealData:[],timer:null,lastRespTime:null,allowRequests:!0,isWebSocket:!1,subscribedTradePair:"",activeTab:"trade",showArrows:!1,scrollHeight:0,operation:{bar:{background:"#425e76"}}}},watch:{"nowPairData.localData.tradePair":function(t){this.isWebSocket&&(r["a"].send({op:"unsub",topic:"market.tradedetail."+this.subscribedTradePair+".50"||!1}),r["a"].send({op:"sub",topic:"market.tradedetail."+t+".50"||!1}),this.subscribedTradePair=t.toString())},isSmall:function(t){this.activeTab=t?"order":"trade"}},components:{quotationChart:l["a"]},mounted:function(){var t=this;this.scrollHeight=this.$refs.tradesWrap.clientHeight,r["a"].register(this,(function(a,e){a&&console.error(a),t.isWebSocket=e})),this.getTradesData()},beforeDestroy:function(){r["a"].unregister(this),this.allowRequests=!1},methods:{onWebSocketOpen:function(){this.allowRequests=!1,this.isWebSocket=!0,r["a"].send({op:"sub",topic:"market.tradedetail."+this.nowPairData.localData.tradePair+".50"||!1}),this.subscribedTradePair=this.nowPairData.localData.tradePair.toString()},onWebSocketMessage:function(t){this.isWebSocket=!0,this.allowRequests=!1,t.data&&-1!==t.topic.indexOf(".tradedetail.")&&-1!==t.topic.indexOf(this.subscribedTradePair)&&(t.full,this.handleTradeDetail(t.data))},onWebSocketClose:function(){this.isWebSocket&&(this.isWebSocket=!1,this.allowRequests=!0,this.getTradesData())},handleTradeDetail:function(t){var a=this;if(0!==t.length){t.map((function(t){t[2]=a.formastDate(new Date(1e3*t[2]))})),this.nowPairData.marketData.n=t[0][0],this.$store.commit("getNowPairData",this.nowPairData.marketData);var e=t.concat(this.dealData);e.splice(50),this.dealData=e,setTimeout((function(){a.changeStatus(a.dealData)}),0)}},changeStatus:function(t){if(t&&t.length>1){var a="",e=this.isWebSocket?t[0][0]-t[1][0]:t[0].p-t[1].p;a=e>0?"up":e<0?"down":"stable",this.$emit("tradesChange",{tradesChangeType:a})}else this.$emit("tradesChange",{tradesChangeType:"stable"})},formastDate:function(t){var a=t.getHours(),e=t.getMinutes(),s=t.getSeconds();return a=a<10?"0"+a:a,e=e<10?"0"+e:e,s=s<10?"0"+s:s,a+":"+e+":"+s},getTradesData:function(){var t=this;"Exchange"===this.$route.name&&this.$http.get("/market/tradepair/latest/tradedetail",{params:{tradePair:this.nowPairData.localData.tradePair||"BTCUSDT",num:50}}).then((function(a){t.allowRequests&&(t.dealData=a.data.data||[],t.dealData.map((function(t){t.t=t.t.split(" ")[1]})),setTimeout((function(){t.changeStatus(t.dealData)}),0))})).catch((function(){t.$emit("tradesChange",{tradesChangeType:"stable"})})).finally((function(){t.allowRequests&&setTimeout((function(){t.getTradesData()}),1250)}))},priceSelect:function(t){this.$emit("priceSelect",t)}}},u=c,h=(e("2a07"),e("2877")),d=e("6544"),p=e.n(d),m=e("71a3"),v=e("c671"),g=e("fe57"),b=e("aac8"),f=Object(h["a"])(u,s,i,!1,null,"79e481a0",null);a["a"]=f.exports;p()(f,{VTab:m["a"],VTabItem:v["a"],VTabs:g["a"],VTabsItems:b["a"]})},5093:function(t,a,e){},"523b":function(t,a,e){t.exports=e.p+"img/transfer_icon.ef43d37f.png"},"5c8f":function(t,a,e){},"5d23":function(t,a,e){"use strict";var s=e("80d2"),i=(e("a4d3"),e("e01a"),e("d28b"),e("c740"),e("0481"),e("a434"),e("4069"),e("d3b7"),e("3ca3"),e("ddb0"),e("5530")),o=(e("3ad0"),e("8dd9")),n=o["a"].extend().extend({name:"v-list",provide:function(){return{isInList:!0,list:this}},inject:{isInMenu:{default:!1},isInNav:{default:!1}},props:{dense:Boolean,disabled:Boolean,expand:Boolean,flat:Boolean,nav:Boolean,rounded:Boolean,subheader:Boolean,threeLine:Boolean,twoLine:Boolean},data:function(){return{groups:[]}},computed:{classes:function(){return Object(i["a"])({},o["a"].options.computed.classes.call(this),{"v-list--dense":this.dense,"v-list--disabled":this.disabled,"v-list--flat":this.flat,"v-list--nav":this.nav,"v-list--rounded":this.rounded,"v-list--subheader":this.subheader,"v-list--two-line":this.twoLine,"v-list--three-line":this.threeLine})}},methods:{register:function(t){this.groups.push(t)},unregister:function(t){var a=this.groups.findIndex((function(a){return a._uid===t._uid}));a>-1&&this.groups.splice(a,1)},listClick:function(t){if(!this.expand){var a=!0,e=!1,s=void 0;try{for(var i,o=this.groups[Symbol.iterator]();!(a=(i=o.next()).done);a=!0){var n=i.value;n.toggle(t)}}catch(r){e=!0,s=r}finally{try{a||null==o.return||o.return()}finally{if(e)throw s}}}}},render:function(t){var a={staticClass:"v-list",class:this.classes,style:this.styles,attrs:Object(i["a"])({role:this.isInNav||this.isInMenu?void 0:"list"},this.attrs$)};return t(this.tag,this.setBackgroundColor(this.color,a),[this.$slots.default])}}),r=(e("ac1f"),e("466d"),e("ade3")),l=(e("db42"),e("9d26")),c=e("da13"),u=(e("498a"),e("8bbf")),h=e.n(u),d=h.a.extend({name:"v-list-item-icon",functional:!0,render:function(t,a){var e=a.data,s=a.children;return e.staticClass="v-list-item__icon ".concat(e.staticClass||"").trim(),t("div",e,s)}}),p=e("7e2b"),m=e("9d65"),v=e("a9ad"),g=e("f2e7"),b=e("3206"),f=e("5607"),y=e("0789"),k=e("58df"),w=Object(k["a"])(p["a"],m["a"],v["a"],Object(b["a"])("list"),g["a"]),_=w.extend().extend({name:"v-list-group",directives:{ripple:f["a"]},props:{activeClass:{type:String,default:""},appendIcon:{type:String,default:"$expand"},color:{type:String,default:"primary"},disabled:Boolean,group:String,noAction:Boolean,prependIcon:String,ripple:{type:[Boolean,Object],default:!0},subGroup:Boolean},computed:{classes:function(){return{"v-list-group--active":this.isActive,"v-list-group--disabled":this.disabled,"v-list-group--no-action":this.noAction,"v-list-group--sub-group":this.subGroup}}},watch:{isActive:function(t){!this.subGroup&&t&&this.list&&this.list.listClick(this._uid)},$route:"onRouteChange"},created:function(){this.list&&this.list.register(this),this.group&&this.$route&&null==this.value&&(this.isActive=this.matchRoute(this.$route.path))},beforeDestroy:function(){this.list&&this.list.unregister(this)},methods:{click:function(t){var a=this;this.disabled||(this.isBooted=!0,this.$emit("click",t),this.$nextTick((function(){return a.isActive=!a.isActive})))},genIcon:function(t){return this.$createElement(l["a"],t)},genAppendIcon:function(){var t=!this.subGroup&&this.appendIcon;return t||this.$slots.appendIcon?this.$createElement(d,{staticClass:"v-list-group__header__append-icon"},[this.$slots.appendIcon||this.genIcon(t)]):null},genHeader:function(){return this.$createElement(c["a"],{staticClass:"v-list-group__header",attrs:{"aria-expanded":String(this.isActive),role:"button"},class:Object(r["a"])({},this.activeClass,this.isActive),props:{inputValue:this.isActive},directives:[{name:"ripple",value:this.ripple}],on:Object(i["a"])({},this.listeners$,{click:this.click})},[this.genPrependIcon(),this.$slots.activator,this.genAppendIcon()])},genItems:function(){var t=this;return this.showLazyContent((function(){return[t.$createElement("div",{staticClass:"v-list-group__items",directives:[{name:"show",value:t.isActive}]},Object(s["i"])(t))]}))},genPrependIcon:function(){var t=this.subGroup&&null==this.prependIcon?"$subgroup":this.prependIcon;return t||this.$slots.prependIcon?this.$createElement(d,{staticClass:"v-list-group__header__prepend-icon"},[this.$slots.prependIcon||this.genIcon(t)]):null},onRouteChange:function(t){if(this.group){var a=this.matchRoute(t.path);a&&this.isActive!==a&&this.list&&this.list.listClick(this._uid),this.isActive=a}},toggle:function(t){var a=this,e=this._uid===t;e&&(this.isBooted=!0),this.$nextTick((function(){return a.isActive=e}))},matchRoute:function(t){return null!==t.match(this.group)}},render:function(t){return t("div",this.setTextColor(this.isActive&&this.color,{staticClass:"v-list-group",class:this.classes}),[this.genHeader(),t(y["a"],this.genItems())])}}),P=(e("899c"),e("604c")),D=Object(k["a"])(P["a"],v["a"]).extend({name:"v-list-item-group",provide:function(){return{isInGroup:!0,listItemGroup:this}},computed:{classes:function(){return Object(i["a"])({},P["a"].options.computed.classes.call(this),{"v-list-item-group":!0})}},methods:{genData:function(){return this.setTextColor(this.color,Object(i["a"])({},P["a"].options.methods.genData.call(this),{attrs:{role:"listbox"}}))}}}),C=(e("4de4"),h.a.extend({name:"v-list-item-action",functional:!0,render:function(t,a){var e=a.data,s=a.children,i=void 0===s?[]:s;e.staticClass=e.staticClass?"v-list-item__action ".concat(e.staticClass):"v-list-item__action";var o=i.filter((function(t){return!1===t.isComment&&" "!==t.text}));return o.length>1&&(e.staticClass+=" v-list-item__action--stack"),t("div",e,i)}})),S=e("8270");e.d(a,"a",(function(){return T})),e.d(a,"c",(function(){return I})),e.d(a,"b",(function(){return $}));var A=Object(s["e"])("v-list-item__action-text","span"),T=Object(s["e"])("v-list-item__content","div"),I=Object(s["e"])("v-list-item__title","div"),$=Object(s["e"])("v-list-item__subtitle","div");c["a"],S["a"]},"61d2":function(t,a,e){},"682a":function(t,a,e){},"6c2f":function(t,a,e){"use strict";var s=e("0117"),i=e.n(s);i.a},"6c95":function(t,a,e){},"6c9d":function(t,a,e){"use strict";var s=e("d098"),i=e.n(s);i.a},"6e7c":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("a",{staticClass:"toggle",on:{click:t.toggleSidebar}},[t.isSideOpen?e("span",[e("v-icon",{staticClass:"left",attrs:{color:"blue darken-2"}},[t._v(t._s("fa fa-angle-double-left"))])],1):e("span",[e("v-icon",{staticClass:"left",attrs:{color:"blue darken-2"}},[t._v(t._s("fa fa-angle-double-right"))])],1)]),e("dl",{staticClass:"ticker-wrap"},[e("dd",{staticClass:"now-currency"},[e("div",{staticClass:"currency-name"},[e("p",{staticClass:"currency-name-title"},[t._v(t._s(t.nowPairData.localData.tradePairName)),"Margin"===t.$router.name?e("span",{staticClass:"symbolMargin"},[t._v("5X")]):t._e()]),e("p",{staticClass:"currency-name-content"},[t._v(t._s(t.nowPairData.localData.englishBaseAsset))])])]),e("dd",{directives:[{name:"show",rawName:"v-show",value:!t.isShowInSmallLeft,expression:"!isShowInSmallLeft"}],staticClass:"page-left",on:{click:function(a){return t.changePage("left")}}}),e("dd",{directives:[{name:"show",rawName:"v-show",value:t.isShowInSmallLeft,expression:"isShowInSmallLeft"}],staticClass:"refPrice"},[e("p",{staticClass:"title volume",class:t.tradesChangeType},[t._v(t._s(parseFloat(t.nowPairData.marketData.n).toLocaleString(void 0,{maximumFractionDigits:4})))]),e("p",{staticClass:"nowPriceP"},[e("span",{staticClass:"nowPrice"}),t._v("≈"+t._s(t.nowPairData.marketData.nl.substr(0,1)+parseFloat(t.nowPairData.marketData.nl.substr(1)).toLocaleString(void 0,{maximumFractionDigits:4})))])]),e("dd",{directives:[{name:"show",rawName:"v-show",value:t.isShowInSmallLeft,expression:"isShowInSmallLeft"}],staticClass:"change-percent",class:0!=t.nowPairData.marketData.a&&t.nowPairData.marketData.a?t.nowPairData.marketData.a>0?"greenFont":"redFont":"default"},[e("p",{staticClass:"title"},[t._v(t._s(t.$t("24H Change")))]),e("p",[t._v(t._s(t.nowPairData.marketData.a)+" "+t._s(t.nowPairData.marketData.p))])]),e("dd",{directives:[{name:"show",rawName:"v-show",value:t.isShowInSmallLeft,expression:"isShowInSmallLeft"}],staticClass:"highPrice"},[e("p",{staticClass:"title"},[t._v(t._s(t.$t("24H High")))]),e("p",{staticClass:"ticker-data"},[t._v(t._s(parseFloat(t.nowPairData.marketData.high24).toLocaleString(void 0,{maximumFractionDigits:4})))])]),e("dd",{directives:[{name:"show",rawName:"v-show",value:t.isShowInSmallRight,expression:"isShowInSmallRight"}],staticClass:"lowPrice"},[e("p",{staticClass:"title"},[t._v(t._s(t.$t("24H Low")))]),e("p",{staticClass:"ticker-data"},[t._v(t._s(parseFloat(t.nowPairData.marketData.low24).toLocaleString(void 0,{maximumFractionDigits:4})))])]),e("dd",{directives:[{name:"show",rawName:"v-show",value:t.isShowInSmallRight,expression:"isShowInSmallRight"}],staticClass:"volume"},[e("p",{staticClass:"title"},[t._v(t._s(t.$t("24H Vol")))]),e("p",{staticClass:"ticker-data"},[t._v(t._s(t.nowPairData.marketData.amt24?parseFloat(t.nowPairData.marketData.amt24).toLocaleString(void 0,{maximumFractionDigits:4}):"---")+t._s(t.nowPairData.localData.quoteAsset))])])]),e("span",{directives:[{name:"show",rawName:"v-show",value:!t.isShowInSmallRight,expression:"!isShowInSmallRight"}],staticClass:"page-right",on:{click:function(a){return t.changePage("right")}}}),e("a",{staticClass:"theme",on:{click:t.toggleTheme}},[t.isDark?e("span",[e("v-icon",{attrs:{color:"blue darken-2"}},[t._v(t._s("fa fa-sun-o"))])],1):e("span",[e("v-icon",{attrs:{color:"blue darken-2"}},[t._v(t._s("fa fa-moon-o"))])],1)])])},i=[],o=(e("7db0"),e("5530")),n=e("5880"),r={props:["isSmall","isMiddle","showDetail","tradesChangeType"],data:function(){return{tradePair:{},onShow:!1,isShowInSmallLeft:!0,isShowInSmallRight:!0,isSideOpen:!0,isDark:!0}},watch:{isMiddle:function(t){this.isShowInSmallLeft=!0},isDark:function(){var t=document.documentElement;this.isDark?(localStorage.setItem("theme","dark"),t.setAttribute("theme","dark"),$("iframe").contents().find("html").removeClass("theme-light").addClass("theme-dark")):(localStorage.setItem("theme","light"),t.setAttribute("theme","light"),$("iframe").contents().find("html").removeClass("theme-dark").addClass("theme-light"))}},methods:{backgroundImageChoose:function(t){return{backgroundSize:"36px 36px",backgroundPosition:"0px 50%"}},showCurrencyDetail:function(t){this.onShow=t,this.$emit("showCurrencyDetail",t)},changePage:function(t){"left"===t?(this.isShowInSmallLeft=!0,this.isShowInSmallRight=!1):"right"===t&&(this.isShowInSmallLeft=!1,this.isShowInSmallRight=!0)},toggleSidebar:function(){this.isSideOpen=!this.isSideOpen,this.$emit("isSideOpen",this.isSideOpen)},toggleTheme:function(){this.isDark=!this.isDark,this.$emit("tradeTheme",this.isDark)}},components:{},mounted:function(){document.body;var t=document.documentElement,a=localStorage.getItem("theme");"dark"===a?(t.setAttribute("theme","dark"),this.isDark=!0):(t.setAttribute("theme","light"),this.isDark=!1)},computed:Object(o["a"])({},Object(n["mapGetters"])(["CH","market","nowPairData"]))},l=r,c=(e("b2e0"),e("2877")),u=e("6544"),h=e.n(u),d=e("132d"),p=Object(c["a"])(l,s,i,!1,null,"23e82696",null);a["a"]=p.exports;h()(p,{VIcon:d["a"]})},"6fa3":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{attrs:{id:"market"}},[e("div",{staticClass:"left-part",style:{height:t.isMiddle?"calc(100vh - 325px)":"calc(100vh - 245px)"}},[e("div",{attrs:{id:"market-sidebar"}},[e("marketSidebar",{attrs:{CH:t.CH,isSideBarOpen:t.isSideBarOpen},on:{toLoginExchange:t.toLoginExchange}})],1)]),e("div",{staticClass:"middle-part",style:{width:t.isMiddle?"calc(100% - 855px)":"calc(100% - 570px)"}},[e("div",{staticClass:"middle-top",style:{height:t.isMiddle?"calc(100% - 249px)":"calc(100% - 326px)",left:t.isSideBarOpen?"0":"-285px"}},[e("div",{attrs:{id:"ticker-wrap"}},[e("tickerWrap",{attrs:{isMiddle:t.isMiddle,showDetail:t.showDetail,isSmall:t.isSmall,tradesChangeType:t.tradesChangeType},on:{showCurrencyDetail:t.showCurrencyDetail,tradeTheme:t.tradeTheme,isSideOpen:t.isSideOpen}})],1),e("div",{style:{height:t.isMiddle?"":"calc(100% - 10px)"},attrs:{id:"kLineChart"}},[e("kLineChart",{ref:"kLineChart",attrs:{CH:t.CH,market:t.market,theme:t.theme}})],1),e("div",{attrs:{id:"margin-part"}},[e("marginArea",{ref:"marginArea",attrs:{isSmall:t.isSmall,market:t.market},on:{toLoginExchange:t.toLoginExchange,setAssetValues:t.setAssetValues}})],1)]),e("div",{staticClass:"middle-bottom",style:{height:t.isMiddle?"265px":"185px"}},[e("div",{staticClass:"record-wrap"},[e("consignationChart",{attrs:{CH:t.CH,isSmall:t.isSmall},on:{triggerUsable:t.triggerUsable}})],1)])]),e("div",{staticClass:"right-part",style:{width:t.isMiddle?"565px":"280px"}},[e("div",{staticClass:"right-top"},[t.isMiddle?e("quotationChart",{attrs:{isSmall:t.isSmall,tradesChangeType:t.tradesChangeType},on:{priceSelect:t.priceSelect}}):t._e(),e("div",{style:{height:t.isMiddle?"100%":"calc(100% - 270px)"},attrs:{id:"trades-wrap"}},[e("tradesWrap",{attrs:{isSmall:t.isSmall,tradesChangeType:t.tradesChangeType},on:{tradesChange:t.tradesChange,priceSelect:t.priceSelect}})],1)],1),e("div",{staticClass:"right-bottom",style:{right:t.isMiddle?"":"0"}},[e("div",{attrs:{id:"market-trade"}},[e("transactionChart",{ref:"transaction",attrs:{isSmall:t.isSmall},on:{toLoginExchange:t.toLoginExchange,setAssetValues:t.setAssetValues,getMarginValue:t.getMarginValue}})],1)])])])])},i=[],o=e("5530"),n=e("6e7c"),r=e("fcdd"),l=e("2087"),c=e("4ff6"),u=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"marginarea-title"},[e("div",{staticClass:"margin-trade color-cdd1ea"},[e("div",{staticClass:"trade-content"},[e("v-list-item",[e("v-list-item-content",[e("v-list-item-title",[t._v(t._s(t.baseAsset))]),e("v-list-item-subtitle",[e("span",[t._v(t._s(t.$t("el.home.margin.available")))]),t._v(" "),e("span",{staticClass:"val"},[t._v(t._s(t.available1))]),t._v(" / "),e("span",[t._v(t._s(t.$t("el.home.margin.freezing")))]),t._v(" "),e("span",{staticClass:"val"},[t._v(t._s(t.freezing1))])]),e("v-list-item-subtitle",[e("span",[t._v(t._s(t.$t("el.home.margin.borrowCompleted")))]),t._v(" "),e("span",{staticClass:"val"},[t._v(t._s(t.borrowCompleted1))]),t._v(" / "),e("span",[t._v(t._s(t.$t("el.home.margin.charge")))]),t._v(" "),e("span",{staticClass:"val"},[t._v(t._s(t.charge1))])])],1)],1),e("v-list-item",[e("v-list-item-content",{staticClass:"ml-10"},[e("v-list-item-title",[t._v(t._s(t.quoteAsset))]),e("v-list-item-subtitle",[e("span",[t._v(t._s(t.$t("el.home.margin.available")))]),t._v(" "),e("span",{staticClass:"val"},[t._v(t._s(t.available2))]),t._v(" / "),e("span",[t._v(t._s(t.$t("el.home.margin.freezing")))]),t._v(" "),e("span",{staticClass:"val"},[t._v(t._s(t.freezing2))])]),e("v-list-item-subtitle",[e("span",[t._v(t._s(t.$t("el.home.margin.borrowCompleted")))]),t._v(" "),e("span",{staticClass:"val"},[t._v(t._s(t.borrowCompleted2))]),t._v(" / "),e("span",[t._v(t._s(t.$t("el.home.margin.charge")))]),t._v(" "),e("span",{staticClass:"val"},[t._v(t._s(t.charge2))])])],1)],1),e("v-list-item",[e("v-list-item-content",[e("v-list-item-subtitle",[e("span",[t._v(t._s(t.$t("el.home.margin.significance"))+" "),e("span",{staticClass:"val"},[t._v(t._s(t.significance))])])]),e("v-list-item-subtitle",[e("span",[t._v(t._s(t.$t("el.home.margin.breakValue"))+" "),e("span",{staticClass:"val"},[t._v(t._s(t.breakValue))])])])],1)],1),e("v-list-item",[e("v-list-item-content",[e("v-list-item-subtitle",[t.commonApi.user?e("span",{attrs:{color:"primary",dark:"",text:"",small:""},on:{click:function(a){t.isTransfer=!0}}},[t._v(" "+t._s(t.$t("el.home.margin.transfer"))+" ")]):e("span",{attrs:{color:"primary",dark:"",text:"",small:""},on:{click:t.toLogin}},[t._v(" "+t._s(t.$t("el.home.margin.transfer"))+" ")])]),e("v-list-item-subtitle",[t.commonApi.user?e("span",{attrs:{color:"primary",dark:"",text:"",small:""},on:{click:function(a){t.isBorrow=!0}}},[t._v(" "+t._s(t.$t("el.home.margin.borrow"))+" ")]):e("span",{attrs:{color:"primary",dark:"",text:"",small:""},on:{click:t.toLogin}},[t._v(" "+t._s(t.$t("el.home.margin.borrow"))+" ")]),e("span",{staticClass:"divider"},[t._v("/")]),t.commonApi.user?e("span",{attrs:{color:"primary",dark:"",text:"",small:""},on:{click:function(a){t.isRepay=!0}}},[t._v(" "+t._s(t.$t("el.home.margin.repay"))+" ")]):e("span",{attrs:{color:"primary",dark:"",text:"",small:""},on:{click:t.toLogin}},[t._v(" "+t._s(t.$t("el.home.margin.repay"))+" ")])])],1)],1)],1)])]),t.loading?e("div",{staticClass:"loading"},[e("div",{staticClass:"loader"},[e("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[e("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none","stroke-width":"2","stroke-miterlimit":"10"}})])])]):t._e(),t.commonApi.user?e("MarginTransfer",{attrs:{isTransfer:t.isTransfer,market:t.market},on:{showModal:t.showModal,getMarginBalance:t.getMarginBalance}}):t._e(),t.commonApi.user?e("MarginBorrow",{attrs:{isBorrow:t.isBorrow,market:t.market,pairId:t.pairId,baseAsset:t.baseAsset,quoteAsset:t.quoteAsset},on:{showModal:t.showModal,getMarginBalance:t.getMarginBalance}}):t._e(),t.commonApi.user?e("MarginRepay",{attrs:{isRepay:t.isRepay},on:{showModal:t.showModal,getMarginBalance:t.getMarginBalance}}):t._e()],1)},h=[],d=(e("4160"),e("b0c0"),e("b680"),e("159b"),e("bd72")),p=e("e15b"),m=e("dd30"),v=e("2ef0"),g=e.n(v),b=e("711d"),f=e("5880"),y=e("4b5c"),k={computed:Object(o["a"])({},Object(f["mapGetters"])(["market","nowPairData"])),props:["isSmall"],data:function(){return{isWebSocket:!0,allowRequests:!0,oldTradepair:"",available1:"- -",freezing1:"- -",borrowCompleted1:"- -",charge1:"- -",available2:"- -",freezing2:"- -",borrowCompleted2:"- -",charge2:"- -",significance:"- -",breakValue:"- -",isTransfer:!1,isBorrow:!1,pairId:"",baseAsset:"",quoteAsset:"",loading:!1,isRepay:!1,timer:null}},watch:{market:function(){this.pairId=this.$route.params.pairId||("Exchange"===this.$route.name?localStorage.getItem("pairId"+this.commonApi.site):localStorage.getItem("pairId"+this.commonApi.site+"Margin"))||this.market,this.sendWebSocketUnsub(),this.sendWebsocketSub()}},methods:{sendWebSocketUnsub:function(){this.isWebSocket&&y["a"].send({op:"unsub",topic:"margin.Single."+this.oldTradepair,rid:""})},sendWebsocketSub:function(){var t=this;if(this.isWebSocket){var a=new Date,e=this.commonApi.user;if(null!=e&&null!=e.token){var s=g.a.cloneDeep(b["a"].tradingPairGroups);if(s.forEach((function(a,e){g.a.forEach(a.list,(function(a,e){t.pairId===a.tradePair&&(t.baseAsset=a.baseAsset,t.quoteAsset=a.quoteAsset,localStorage.setItem("pairMarginLeverage"+t.commonApi.site,a.margine_reverage))}))})),""===this.quoteAsset||""===this.baseAsset||!this.commonApi.user)return;this.oldTradepair=this.baseAsset+"/"+this.quoteAsset,y["a"].send({op:"sub",topic:"margin.Single."+this.baseAsset+"/"+this.quoteAsset,rid:(0-a.getTimezoneOffset())/60+",Bearer "+e.token})}}},onWebSocketOpen:function(){this.allowRequests=!1,this.isWebSocket=!0,this.sendWebsocketSub()},onWebSocketMessage:function(t){this.isWebSocket=!0,this.allowRequests=!1,null!=t&&t.Topic=="margin.Single."+this.baseAsset+"/"+this.quoteAsset&&null!=t.Data.data.assets&&t.Data.data.assets.length>0&&(this.available1=Math.floor(parseFloat(t.Data.data.assets[0].available)*Math.pow(10,this.nowPairData.localData.volumePrecision))/Math.pow(10,this.nowPairData.localData.volumePrecision),this.borrowCompleted1=Math.floor(parseFloat(t.Data.data.assets[0].borrow)*Math.pow(10,this.nowPairData.localData.volumePrecision))/Math.pow(10,this.nowPairData.localData.volumePrecision),this.freezing1=Math.floor(parseFloat(t.Data.data.assets[0].frozen)*Math.pow(10,this.nowPairData.localData.volumePrecision))/Math.pow(10,this.nowPairData.localData.volumePrecision),this.charge1=parseFloat(t.Data.data.assets[0].interestRatio).toFixed(2),this.available2=Math.floor(parseFloat(t.Data.data.assets[1].available)*Math.pow(10,this.nowPairData.localData.volumePrecision))/Math.pow(10,this.nowPairData.localData.volumePrecision),this.borrowCompleted2=Math.floor(parseFloat(t.Data.data.assets[1].borrow)*Math.pow(10,this.nowPairData.localData.volumePrecision))/Math.pow(10,this.nowPairData.localData.volumePrecision),this.freezing2=Math.floor(parseFloat(t.Data.data.assets[1].frozen)*Math.pow(10,this.nowPairData.localData.volumePrecision))/Math.pow(10,this.nowPairData.localData.volumePrecision),this.charge2=parseFloat(t.Data.data.assets[1].interestRatio).toFixed(2),this.significance=t.Data.data.riskRate>0?parseFloat(t.Data.data.riskRate).toFixed(2):"- -",this.breakValue=t.Data.data.forceClosePrice>0?Math.floor(parseFloat(t.Data.data.forceClosePrice)*Math.pow(10,this.nowPairData.localData.volumePrecision))/Math.pow(10,this.nowPairData.localData.volumePrecision):"- -",this.$emit("setAssetValues",this.available2,this.available1))},onWebSocketClose:function(){this.isWebSocket&&(this.isWebSocket=!1,this.allowRequests=!0)},toLogin:function(){this.$emit("toLoginExchange",1)},showModal:function(t){this.isTransfer=t.isTransfer,this.isBorrow=t.isBorrow,this.isRepay=t.isTransfer},getMarginBalance:function(){var t=this,a=this,e=g.a.cloneDeep(b["a"].tradingPairGroups);e.forEach((function(e,s){g.a.forEach(e.list,(function(e,s){a.pairId===e.tradePair&&(a.baseAsset=e.baseAsset,a.quoteAsset=e.quoteAsset,localStorage.setItem("pairMarginLeverage"+t.commonApi.site,e.margine_reverage))}))})),""!==this.quoteAsset&&""!==this.baseAsset&&this.commonApi.user&&this.$http.post("/margin/account/single",{tradePairName:this.baseAsset+"/"+this.quoteAsset}).then((function(e){t.loading=!1,a.available1=Math.floor(parseFloat(e.data.data.assets[0].available)*Math.pow(10,t.nowPairData.localData.volumePrecision))/Math.pow(10,t.nowPairData.localData.volumePrecision),a.borrowCompleted1=Math.floor(parseFloat(e.data.data.assets[0].borrow)*Math.pow(10,t.nowPairData.localData.volumePrecision))/Math.pow(10,t.nowPairData.localData.volumePrecision),a.freezing1=Math.floor(parseFloat(e.data.data.assets[0].frozen)*Math.pow(10,t.nowPairData.localData.volumePrecision))/Math.pow(10,t.nowPairData.localData.volumePrecision),a.charge1=parseFloat(e.data.data.assets[0].interestRatio).toFixed(2),a.available2=Math.floor(parseFloat(e.data.data.assets[1].available)*Math.pow(10,t.nowPairData.localData.volumePrecision))/Math.pow(10,t.nowPairData.localData.volumePrecision),a.borrowCompleted2=Math.floor(parseFloat(e.data.data.assets[1].borrow)*Math.pow(10,t.nowPairData.localData.volumePrecision))/Math.pow(10,t.nowPairData.localData.volumePrecision),a.freezing2=Math.floor(parseFloat(e.data.data.assets[1].frozen)*Math.pow(10,t.nowPairData.localData.volumePrecision))/Math.pow(10,t.nowPairData.localData.volumePrecision),a.charge2=parseFloat(e.data.data.assets[1].interestRatio).toFixed(2),a.significance=e.data.data.riskRate>0?parseFloat(e.data.data.riskRate).toFixed(2):"- -",a.breakValue=e.data.data.forceClosePrice>0?Math.floor(parseFloat(e.data.data.forceClosePrice)*Math.pow(10,t.nowPairData.localData.volumePrecision))/Math.pow(10,t.nowPairData.localData.volumePrecision):"- -",a.$emit("setAssetValues",a.available2,a.available1)})).catch((function(a){t.loading=!1,console.warn(a+"")}))}},mounted:function(){var t=this;switch(y["a"].register(this,(function(a,e){a&&console.error(a),t.isWebSocket=e})),this.pairId=this.$route.params.pairId||("Exchange"===this.$route.name?localStorage.getItem("pairId"+this.commonApi.site):localStorage.getItem("pairId"+this.commonApi.site+"Margin"))||this.market,this.$route.params.type){case"borrow":this.isBorrow=!0;break;case"repay":this.isRepay=!0;break;case"transfer":this.isTransfer=!0;break;default:break}},beforeDestroy:function(){clearInterval(this.timer),y["a"].unregister(this),this.allowRequests=!1},components:{MarginTransfer:d["a"],MarginBorrow:p["a"],MarginRepay:m["a"]}},w=k,_=(e("b7fa"),e("2877")),P=e("6544"),D=e.n(P),C=e("da13"),S=e("5d23"),A=Object(_["a"])(w,u,h,!1,null,"fbb14fd4",null),T=A.exports;D()(A,{VListItem:C["a"],VListItemContent:S["a"],VListItemSubtitle:S["b"],VListItemTitle:S["c"]});var I=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"transaction-title"},["KO"!=t.commonApi.site?e("div",{staticClass:"Ltx-discount",on:{mouseenter:function(a){t.discountShow=!0},mouseleave:function(a){t.discountShow=!1}}},[1==t.discountShow?e("div",{staticClass:"operation"},[e("span",{staticClass:"triangle"}),"OFF"!=t.LtxDiscountSwitch||t.commonApi.user?t._e():e("a",{staticClass:"btn-link",attrs:{href:"#"},on:{click:t.toLogin}},[t._v(t._s(t.$t("Set")))]),"OFF"==t.LtxDiscountSwitch&&t.commonApi.user?e("a",{staticClass:"btn-link",attrs:{href:"/balance"}},[t._v(t._s(t.$t("Set")))]):t._e(),"OFF"==t.LtxDiscountSwitch?e("span"):t._e()]):t._e(),"OFF"==t.LtxDiscountSwitch?e("span",{staticClass:"Ltx-msg"},[t._v(t._s(t.$t("No discount yet on fees")))]):e("span",{staticClass:"Ltx-msg"},[t._v(t._s(t.$t("Get a discount(50% off)")))])]):t._e()]),t.ieoByShow?e("div",{staticClass:"ieo-buy"}):t._e(),e("Vodal",{staticClass:"ieo-dialog",attrs:{width:440,height:273,show:t.ieoDialogShow,animation:"rotate"},on:{hide:t.closeIeo}},[e("form",{staticClass:"vodal-content form",attrs:{"data-vv-scope":"form-register"}},[e("span",{staticClass:"error"}),e("p",[t._v(t._s(t.$t("Initial offering of {0}，transaction available after sales",[t.nowPairData.localData.baseAsset])))]),e("div",{staticClass:"button-box"},[e("button",{staticClass:"btn large long load-box cancelBtn",attrs:{type:"button"},on:{click:t.closeIeo}},[t._v(" "+t._s(t.$t("Cancel"))+" ")]),e("button",{staticClass:"btn large long load-box nextBtn",attrs:{disabled:t.ieoDisabled,type:"button"},on:{click:t.buyIn}},[t._v(" "+t._s(t.$t("Confirm"))+" ")])])])]),t.nowPairData.localData.sellDisabled?e("div",{staticClass:"ieo-sell"},[e("p",{staticClass:"pause-title"},[t._v(t._s(t.$t("Initial offering of {0}，transaction available after sales",[t.nowPairData.localData.baseAsset])))])]):t._e(),e("keep-alive",[e("div",{staticClass:"market-trade"},[e("div",{staticClass:"trade-content"},[e("v-tabs",{attrs:{color:"#000000","active-class":"activated","hide-slider":"",height:"30",dark:"","fixed-tabs":"",centered:"","show-arrows":t.showArrows},model:{value:t.activeTab,callback:function(a){t.activeTab=a},expression:"activeTab"}},[e("v-tab",{key:"buy",attrs:{href:"#buy"}},[t._v(" "+t._s(t.$t("el.market.Buy"))+" "+t._s(t.nowPairData.localData.baseAsset)+" ")]),e("v-tab",{key:"sell",attrs:{href:"#sell"}},[t._v(" "+t._s(t.$t("el.market.Sell"))+" "+t._s(t.nowPairData.localData.baseAsset)+" ")])],1),e("v-tabs-items",{model:{value:t.activeTab,callback:function(a){t.activeTab=a},expression:"activeTab"}},[e("v-tab-item",{staticClass:"first",attrs:{value:"buy",name:"buy"}},[t.currentView?e("div",{staticClass:"trade buyIn"},[e("ul",{staticClass:"tabChild-ul",staticStyle:{display:"block"}},[e("li",{class:{actives:0===t.selected},on:{click:function(a){return t.tabChange(0)}}},[t._v(t._s(t.$t("LimitOrder")))]),e("li",{class:{actives:1===t.selected},on:{click:function(a){return t.tabChange(1)}}},[t._v(t._s(t.$t("Market Order")))])]),e("h3",{staticClass:"greenFont exchange-type-title"},[e("span",[t._v(t._s(t.$t("el.market.availiable")))]),e("p",{staticClass:"label trans"},[t.isSmall?t._e():e("span",{staticClass:"trans-tit"}),e("span",{staticClass:"trans-cont"},[t._v(" "+t._s(t.commonApi.user?t.usableIn:"0.00")+" "+t._s(t.nowPairData.localData.quoteAsset)+" ")])])]),e("ul",[e("li",{staticClass:"input-text"},[e("label",{attrs:{for:"buyPrice"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.buyPrice,expression:"buyPrice"}],attrs:{autocomplete:"off",name:"buyPrice",type:"text",maxlength:"14",placeholder:t.$t("el.market.newprice")},domProps:{value:t.buyPrice},on:{input:[function(a){a.target.composing||(t.buyPrice=a.target.value)},t.buyInput],focus:t.onFocusBuy,blur:t.onBlurBuy}}),e("span",{staticClass:"unit"},[t._v(t._s(t.nowPairData.localData.quoteAsset))])]),e("p",{directives:[{name:"show",rawName:"v-show",value:t.focusedBuy,expression:"focusedBuy"}],staticClass:"refPrice"},[t._v("≈"+t._s(t.nowPairData.marketData.sign)+t._s((t.buyPrice*(t.nowPairData.marketData.r||0)).toFixed(4)))])]),e("li",{staticClass:"input-text"},[e("label",{attrs:{for:"buyNum"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.buyNum,expression:"buyNum"}],attrs:{autocomplete:"off",name:"buyNum",type:"text",maxlength:"14",placeholder:t.buyPrice?t.$t("el.market.CanBuy")+t.buyNumMax:t.$t("el.market.buyN")},domProps:{value:t.buyNum},on:{input:[function(a){a.target.composing||(t.buyNum=a.target.value)},t.buyNumChange],keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.buyIeo(a)}}}),e("span",{staticClass:"unit"},[t._v(t._s(t.nowPairData.localData.baseAsset))])])]),e("li",{staticClass:"label position"},[e("el-slider",{directives:[{name:"show",rawName:"v-show",value:t.showBuyInPosition,expression:"showBuyInPosition"}],attrs:{step:1,"show-tooltip":!0,"show-stops":"","input-size":"mini"},on:{change:t.changeBuyFocus},model:{value:t.buyPosition,callback:function(a){t.buyPosition=a},expression:"buyPosition"}}),e("div",{staticClass:"position-edit"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.showBuyInPosition,expression:"!showBuyInPosition"}],staticClass:"position-edit-change"},[t._v(" "+t._s(t.$t("Positions"))+" "),e("span",{staticClass:"verify-button",on:{click:function(a){return t.editByInPosition(!0)}}},[e("i",{staticClass:"icon"})]),e("span",{staticClass:"cancel-button",on:{click:function(a){return t.editByInPosition(!1)}}},[e("i",{staticClass:"icon"})]),e("span",{staticClass:"sign"},[t._v("%")]),e("el-input",{staticClass:"new-input-number",attrs:{controls:"false",size:"mini",min:0,max:100,precision:1},nativeOn:{keyup:function(a){return t.buyPositionInputChange(a)}},model:{value:t.buyPositionInput,callback:function(a){t.buyPositionInput=a},expression:"buyPositionInput"}})],1),e("span",{staticClass:"position-edit-button",on:{click:function(a){return t.changeByInPosition(!1)}}})])],1),e("li",{staticClass:"label trans"},[t.isSmall?t._e():e("span",{staticClass:"trans-tit"},[t._v(t._s(t.$t("el.market.Amount")))]),e("span",{staticClass:"trans-cont trans-amount"},[t._v(" "+t._s(t.turnIn)+" "+t._s(t.nowPairData.localData.quoteAsset)+" ")])])]),t.commonApi.user?e("el-button",{staticClass:"transBtn btn-green",attrs:{type:"primary",disabled:t.buyDisabled},on:{click:t.buyIeo}},["ko"==t.commonApi.lang?e("span",[t._v(t._s(t.nowPairData.localData.baseAsset)+" "+t._s(t.$t("el.market.Buy")))]):e("span",[t._v(t._s(t.$t("el.market.Buy"))+" "+t._s(t.nowPairData.localData.baseAsset))])]):e("el-button",{staticClass:"transBtn btn-green",on:{click:t.toLogin}},[e("span",[t._v(t._s(t.$t("el.market.Buy.LoginOrRegister")))])])],1):t._e(),t.currentView?t._e():e("div",{staticClass:"trade buyIn"},[e("ul",{staticClass:"tabChild-ul",staticStyle:{display:"block"}},[e("li",{class:{actives:0===t.selected},on:{click:function(a){return t.tabChange(0)}}},[t._v(t._s(t.$t("LimitOrder")))]),e("li",{class:{actives:1===t.selected},on:{click:function(a){return t.tabChange(1)}}},[t._v(t._s(t.$t("Market Order")))])]),e("h3",{staticClass:"greenFont exchange-type-title"},[e("span",[t._v(t._s(t.$t("el.market.availiable")))]),e("p",{staticClass:"label trans"},[t.isSmall?t._e():e("span",{staticClass:"trans-tit"}),e("span",{staticClass:"trans-cont"},[t._v(" "+t._s(t.commonApi.user?t.usableIn:"0.00")+" "+t._s(t.nowPairData.localData.quoteAsset)+" ")])])]),e("ul",[e("li",{staticClass:"input-text"},[e("p",{staticClass:"refPrice1"},[t._v(t._s(t.$t("el.market.BuyBest")))])]),e("li",{staticClass:"input-text"},[e("label",{attrs:{for:"buyNumBest"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.buyNumBest,expression:"buyNumBest"}],attrs:{autocomplete:"off",name:"buyNumBest",type:"text",maxlength:"14",placeholder:t.$t("el.market.sellN")},domProps:{value:t.buyNumBest},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.buyIeoBest(a)},input:[function(a){a.target.composing||(t.buyNumBest=a.target.value)},t.buyNumChangeBest]}}),e("span",{staticClass:"unit"},[t._v(t._s(t.nowPairData.localData.quoteAsset))])])]),e("li",{staticClass:"label position"},[e("el-slider",{directives:[{name:"show",rawName:"v-show",value:t.showBuyInPositionMarket,expression:"showBuyInPositionMarket"}],attrs:{step:1,"show-tooltip":!0,"show-stops":"","input-size":"mini"},on:{change:t.changeBuyFocusMarket},model:{value:t.buyPositionMarket,callback:function(a){t.buyPositionMarket=a},expression:"buyPositionMarket"}}),e("div",{staticClass:"position-edit"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.showBuyInPositionMarket,expression:"!showBuyInPositionMarket"}],staticClass:"position-edit-change"},[t._v(" "+t._s(t.$t("Positions"))+" "),e("span",{staticClass:"verify-button",on:{click:function(a){return t.editByInPositionMarket(!0)}}},[e("i",{staticClass:"icon"})]),e("span",{staticClass:"cancel-button",on:{click:function(a){return t.editByInPositionMarket(!1)}}},[e("i",{staticClass:"icon"})]),e("span",{staticClass:"sign"},[t._v("%")]),e("el-input",{staticClass:"new-input-number",attrs:{controls:"false",size:"mini",min:0,max:100,precision:1},nativeOn:{keyup:function(a){return t.buyPositionInputChangeMarket(a)}},model:{value:t.buyPositionInputMarket,callback:function(a){t.buyPositionInputMarket=a},expression:"buyPositionInputMarket"}})],1),e("span",{staticClass:"position-edit-button",on:{click:function(a){return t.changeByInPositionMarket(!1)}}})])],1),e("li",{staticClass:"label trans"},[t.isSmall?t._e():e("span",{staticClass:"trans-tit"},[t._v(t._s(t.$t("el.market.Amount")))]),e("span",{staticClass:"trans-cont trans-amount"},[t._v(" ≈ "+t._s(t.turnInMarket)+" "+t._s(t.nowPairData.localData.quoteAsset)+" ")])])]),t.commonApi.user?e("el-button",{staticClass:"transBtn btn-green",attrs:{type:"primary",disabled:t.buyDisabled},on:{click:t.buyIeoBest}},["ko"==t.commonApi.lang?e("span",[t._v(t._s(t.nowPairData.localData.baseAsset)+" "+t._s(t.$t("el.market.Buy")))]):e("span",[t._v(t._s(t.$t("el.market.Buy"))+" "+t._s(t.nowPairData.localData.baseAsset))])]):e("el-button",{staticClass:"transBtn btn-green",on:{click:t.toLogin}},[e("span",[t._v(t._s(t.$t("el.market.Buy.LoginOrRegister")))])])],1)]),e("v-tab-item",{staticClass:"first",attrs:{value:"sell",name:"sell"}},[t.currentView?e("div",{staticClass:"trade buyOut"},[e("ul",{staticClass:"tabChild-ul",staticStyle:{display:"block"}},[e("li",{class:{actives:0===t.selected_sell},on:{click:function(a){return t.tabChangeSell(0)}}},[t._v(t._s(t.$t("LimitOrder")))]),e("li",{class:{actives:1===t.selected_sell},on:{click:function(a){return t.tabChangeSell(1)}}},[t._v(t._s(t.$t("Market Order")))])]),e("h3",{staticClass:"redFont exchange-type-title"},[e("span",[t._v(t._s(t.$t("el.market.availiable")))]),e("p",{staticClass:"label trans"},[t.isSmall?t._e():e("span",{staticClass:"trans-tit"}),e("span",{staticClass:"trans-cont"},[t._v(" "+t._s(t.commonApi.user?t.usableOut:"0.00")+" "+t._s(t.nowPairData.localData.baseAsset)+" ")])])]),e("ul",[e("li",{staticClass:"input-text"},[e("label",{attrs:{for:"sellPrice"}},[e("div",{staticClass:"inputBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.sellPrice,expression:"sellPrice"}],attrs:{autocomplete:"off",name:"sellPrice",type:"text",maxlength:"14",placeholder:t.$t("el.market.newprice")},domProps:{value:t.sellPrice},on:{input:[function(a){a.target.composing||(t.sellPrice=a.target.value)},t.buyInput],focus:t.onFocusSell,blur:t.onBlurSell}})]),e("span",{staticClass:"unit"},[t._v(t._s(t.nowPairData.localData.quoteAsset))])]),e("p",{directives:[{name:"show",rawName:"v-show",value:t.focusedSell,expression:"focusedSell"}],staticClass:"refPrice"},[t._v("≈"+t._s(t.nowPairData.marketData.sign)+t._s((t.sellPrice*(t.nowPairData.marketData.r||0)).toFixed(4)))])]),e("li",{staticClass:"input-text"},[e("label",{attrs:{for:"sellNum"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.sellNum,expression:"sellNum"}],attrs:{autocomplete:"off",name:"sellNum",type:"text",maxlength:"14",placeholder:t.sellPrice?t.$t("el.market.CanSell")+t.sellNumMax:t.$t("el.market.sellN")},domProps:{value:t.sellNum},on:{input:[function(a){a.target.composing||(t.sellNum=a.target.value)},t.sellNumChange],keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.buyOut(a)}}}),e("span",{staticClass:"unit"},[t._v(t._s(t.nowPairData.localData.baseAsset))])])]),e("li",{staticClass:"label position"},[e("el-slider",{directives:[{name:"show",rawName:"v-show",value:t.showBuyOutPosition,expression:"showBuyOutPosition"}],attrs:{step:1,"show-stops":"","show-tooltip":!0,"input-size":"mini"},on:{change:t.changeSellFocus},model:{value:t.sellPosition,callback:function(a){t.sellPosition=a},expression:"sellPosition"}}),e("div",{staticClass:"position-edit"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.showBuyOutPosition,expression:"!showBuyOutPosition"}],staticClass:"position-edit-change"},[t._v(" "+t._s(t.$t("Positions"))+" "),e("span",{staticClass:"verify-button",on:{click:function(a){return t.editByOutPosition(!0)}}},[e("i",{staticClass:"icon"})]),e("span",{staticClass:"cancel-button",on:{click:function(a){return t.editByOutPosition(!1)}}},[e("i",{staticClass:"icon"})]),e("span",{staticClass:"sign"},[t._v("%")]),e("el-input",{staticClass:"new-input-number",attrs:{controls:"false",size:"mini",min:0,max:100,precision:0},nativeOn:{keyup:function(a){return t.sellPositionInputChange(a)}},model:{value:t.sellPositionInput,callback:function(a){t.sellPositionInput=a},expression:"sellPositionInput"}})],1),e("span",{staticClass:"position-edit-button",on:{click:function(a){return t.changeByOutPosition(!1)}}})])],1),e("li",{staticClass:"label trans"},[t.isSmall?t._e():e("span",{staticClass:"trans-tit"},[t._v(t._s(t.$t("el.market.Amount")))]),e("span",{staticClass:"trans-cont trans-amount"},[t._v(" "+t._s(t.turnOut)+" "+t._s(t.nowPairData.localData.quoteAsset)+" ")])])]),t.commonApi.user?e("el-button",{staticClass:"transBtn btn-red",attrs:{type:"primary",disabled:t.sellDisabled},on:{click:t.buyOut}},["ko"==t.commonApi.lang?e("span",[t._v(t._s(t.nowPairData.localData.baseAsset)+" "+t._s(t.$t("el.market.Sell")))]):e("span",[t._v(t._s(t.$t("el.market.Sell"))+" "+t._s(t.nowPairData.localData.baseAsset))])]):e("el-button",{staticClass:"transBtn btn-red",on:{click:t.toLogin}},[e("span",[t._v(t._s(t.$t("el.market.Buy.LoginOrRegister")))])])],1):t._e(),t.currentView?t._e():e("div",{staticClass:"trade buyOut"},[e("ul",{staticClass:"tabChild-ul",staticStyle:{display:"block"}},[e("li",{class:{actives:0===t.selected_sell},on:{click:function(a){return t.tabChangeSell(0)}}},[t._v(t._s(t.$t("LimitOrder")))]),e("li",{class:{actives:1===t.selected_sell},on:{click:function(a){return t.tabChangeSell(1)}}},[t._v(t._s(t.$t("Market Order")))])]),e("h3",{staticClass:"redFont exchange-type-title"},[e("span",[t._v(t._s(t.$t("el.market.availiable")))]),e("p",{staticClass:"label trans"},[t.isSmall?t._e():e("span",{staticClass:"trans-tit"}),e("span",{staticClass:"trans-cont"},[t._v(" "+t._s(t.commonApi.user?t.usableOut:"0.00")+" "+t._s(t.nowPairData.localData.baseAsset)+" ")])])]),e("ul",[e("li",{staticClass:"input-text"},[e("p",{staticClass:"refPrice1"},[t._v(t._s(t.$t("el.market.SellBest")))])]),e("li",{staticClass:"input-text"},[e("label",{attrs:{for:"sellNumBest"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.sellNumBest,expression:"sellNumBest"}],attrs:{autocomplete:"off",name:"sellNumBest",type:"text",maxlength:"14",placeholder:t.sellPriceBest?t.$t("el.market.CanSell")+t.sellNumMax:t.$t("el.market.sellN")},domProps:{value:t.sellNumBest},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.buyOutBest(a)},input:[function(a){a.target.composing||(t.sellNumBest=a.target.value)},t.sellNumChangeBest]}}),e("span",{staticClass:"unit"},[t._v(t._s(t.nowPairData.localData.baseAsset))])])]),e("li",{staticClass:"label position"},[e("el-slider",{directives:[{name:"show",rawName:"v-show",value:t.showBuyOutPositionMarket,expression:"showBuyOutPositionMarket"}],attrs:{step:1,"show-stops":"","show-tooltip":!0,"input-size":"mini"},on:{change:t.changeSellFocusMarket},model:{value:t.sellPositionMarket,callback:function(a){t.sellPositionMarket=a},expression:"sellPositionMarket"}}),e("div",{staticClass:"position-edit"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.showBuyOutPositionMarket,expression:"!showBuyOutPositionMarket"}],staticClass:"position-edit-change"},[t._v(" "+t._s(t.$t("Positions"))+" "),e("span",{staticClass:"verify-button",on:{click:function(a){return t.editByOutPositionMarket(!0)}}},[e("i",{staticClass:"icon"})]),e("span",{staticClass:"cancel-button",on:{click:function(a){return t.editByOutPositionMarket(!1)}}},[e("i",{staticClass:"icon"})]),e("span",{staticClass:"sign"},[t._v("%")]),e("el-input",{staticClass:"new-input-number",attrs:{controls:"false",size:"mini",min:0,max:100,precision:0},nativeOn:{keyup:function(a){return t.sellPositionInputChangeMarket(a)}},model:{value:t.sellPositionInputMarket,callback:function(a){t.sellPositionInputMarket=a},expression:"sellPositionInputMarket"}})],1),e("span",{staticClass:"position-edit-button",on:{click:function(a){return t.changeByOutPositionMarket(!1)}}})])],1),e("li",{staticClass:"label trans"},[t.isSmall?t._e():e("span",{staticClass:"trans-tit"},[t._v(t._s(t.$t("el.market.Amount")))]),e("span",{staticClass:"trans-cont trans-amount"},[t._v(" "+t._s(t.turnOutMarket)+" "+t._s(t.nowPairData.localData.quoteAsset)+" ")])])]),t.commonApi.user?e("el-button",{staticClass:"transBtn btn-red",attrs:{type:"primary",disabled:t.sellDisabled},on:{click:t.buyOutBest}},["ko"==t.commonApi.lang?e("span",[t._v(t._s(t.nowPairData.localData.baseAsset)+" "+t._s(t.$t("el.market.Sell")))]):e("span",[t._v(t._s(t.$t("el.market.Sell"))+" "+t._s(t.nowPairData.localData.baseAsset))])]):e("el-button",{staticClass:"transBtn btn-red",on:{click:t.toLogin}},[e("span",[t._v(t._s(t.$t("el.market.Buy.LoginOrRegister")))])])],1)])],1)],1)])]),e("kyc",{attrs:{"kyc-type":t.kycType,"kyc-show":t.kycShow,CH:t.commonApi.isChinese},on:{kycChange:t.kycChange}})],1)},$=[],B=(e("ac1f"),e("5319"),e("1276"),e("73bd")),x=e("563f"),M=e("36d6"),N=e("efe3"),F={computed:Object(o["a"])({},Object(f["mapGetters"])(["market","nowPairData"])),props:["isSmall"],data:function(){return{timer:null,buyPrice:"",buyPriceBest:"",buyNum:"",buyNumBest:"",buyNumMax:"",sellPrice:"",sellPriceBest:"",sellNum:"",sellNumBest:"",sellNumMax:"",usableIn:"0.000",turnIn:"0.00",turnInMarket:"0.00",usableOut:"0.000",turnOut:"0.00",turnOutMarket:"0.00",buyDisabled:!1,sellDisabled:!1,kycShow:!1,kycType:"",authentication:!1,google:!1,pinPsw:!1,takeFee:.001,LtxDiscountSwitch:"OFF",discountShow:!1,showBuyInPosition:!0,showBuyOutPosition:!0,buyPosition:0,buyPositionInput:0,sellPosition:0,sellPositionInput:0,showBuyInPositionMarket:!0,showBuyOutPositionMarket:!0,buyPositionMarket:0,buyPositionInputMarket:0,sellPositionMarket:0,sellPositionInputMarket:0,selected:0,selected_sell:0,tabList:[],currentView:!0,ieoByShow:!1,ieoDialogShow:!1,ieoSellShow:!1,ieoDisabled:!1,focusedBuy:!1,focusedSell:!1,showArrows:!1,activeTab:"buy"}},watch:{market:function(){this.usable(),this.buyPrice="",this.buyNum="",this.sellPrice="",this.sellNum=""},buyPrice:function(){var t=parseFloat(this.buyPrice),a=parseFloat(this.buyNum),e=parseFloat(this.usableIn),s=(this.buyPrice+"").split("."),i=s[1]?s[1].length:0;i>this.nowPairData.localData.pricePrecision&&(this.buyPrice=s[0]+"."+s[1].substring(0,this.nowPairData.localData.pricePrecision)),t?(this.buyNumMax=x["a"].toFloat(1*e/(t*(1+1*this.nowPairData.localData.takeFee)),this.nowPairData.localData.volumePrecision),this.buyPosition=0==this.buyNumMax?0:Math.round(this.buyNum/this.buyNumMax*100)):this.turnIn=x["a"].toCeil(0,this.nowPairData.localData.pricePrecision),(t&&a||0===t||0===a)&&(this.turnIn=x["a"].toCeil(t*a*(1+1*this.nowPairData.localData.takeFee),this.nowPairData.localData.pricePrecision))},sellPrice:function(){var t=parseFloat(this.sellPrice),a=parseFloat(this.sellNum),e=parseFloat(this.usableOut),s=(this.sellPrice+"").split("."),i=s[1]?s[1].length:0;i>this.nowPairData.localData.pricePrecision&&(this.sellPrice=s[0]+"."+s[1].substring(0,this.nowPairData.localData.pricePrecision)),t?this.sellNumMax=x["a"].toFloat(e,this.nowPairData.localData.volumePrecision):this.turnOut=x["a"].toFloat(0,this.nowPairData.localData.pricePrecision),this.turnOut=t&&a?(t*a*(1-1*this.nowPairData.localData.takeFee)).toFixed(this.nowPairData.localData.pricePrecision):x["a"].toFloat(0,this.nowPairData.localData.pricePrecision)},usableIn:function(){var t=parseFloat(this.buyPrice),a=parseFloat(this.usableIn);t?this.buyNumMax=x["a"].toFloat(1*a/(t*(1+1*this.nowPairData.localData.takeFee)),this.nowPairData.localData.volumePrecision):this.turnIn=x["a"].toCeil(0,this.nowPairData.localData.pricePrecision)},usableOut:function(){var t=parseFloat(this.sellPrice),a=parseFloat(this.usableOut);t?this.sellNumMax=x["a"].toFloat(a,this.nowPairData.localData.volumePrecision):this.turnOut=x["a"].toFloat(0,this.nowPairData.localData.pricePrecision)}},methods:{toLogin:function(){this.$emit("toLoginExchange",1)},buyInput:function(){this.buyPrice=this.buyPrice.replace(/[^\d.]/g,""),this.sellPrice=this.sellPrice.replace(/[^\d.]/g,""),this.buyPrice=this.buyPrice.replace(/\.{2,}/g,"."),this.buyPrice=this.buyPrice.replace(".","$#$").replace(/\./g,"").replace("$#$","."),this.sellPrice=this.sellPrice.replace(/\.{2,}/g,"."),this.sellPrice=this.sellPrice.replace(".","$#$").replace(/\./g,"").replace("$#$",".")},onFocusBuy:function(){this.focusedBuy=!0},onBlurBuy:function(){this.focusedBuy=!1},onFocusSell:function(){this.focusedSell=!0},onBlurSell:function(){this.focusedSell=!1},buyInputBest:function(){this.buyPriceBest=this.buyPriceBest.replace(/[^\d.]/g,""),this.sellPriceBest=this.sellPriceBest.replace(/[^\d.]/g,""),this.buyPriceBest=this.buyPriceBest.replace(/\.{2,}/g,"."),this.buyPriceBest=this.buyPriceBest.replace(".","$#$").replace(/\./g,"").replace("$#$","."),this.sellPriceBest=this.sellPriceBest.replace(/\.{2,}/g,"."),this.sellPriceBest=this.sellPriceBest.replace(".","$#$").replace(/\./g,"").replace("$#$",".")},buyNumChangeBest:function(){this.buyNumBest=this.buyNumBest.replace(/[^\d.]/g,""),this.buyNumBest=this.buyNumBest.replace(/\.{2,}/g,"."),this.buyNumBest=this.buyNumBest.replace(".","$#$").replace(/\./g,"").replace("$#$","."),this.buyNumBest=this.buyNumBest.replace(/\.{2,}/g,".");var t=parseFloat(this.buyNumBest),a=parseFloat(this.usableIn),e=(this.buyNumBest+"").split("."),s=e[1]?e[1].length:0;s>this.nowPairData.localData.pricePrecision&&(this.buyNumBest=e[0]+"."+e[1].substring(0,this.nowPairData.localData.pricePrecision)),this.turnInMarket=t,this.buyNumMax=a,this.buyPositionMarket=0==this.buyNumBest||0==this.buyNumMax?0:Math.round(this.buyNumBest/this.usableIn*100),this.showBuyInPosition=!0},buyNumChange:function(){this.buyNum=this.buyNum.replace(/[^\d.]/g,""),this.buyNum=this.buyNum.replace(/\.{2,}/g,"."),this.buyNum=this.buyNum.replace(".","$#$").replace(/\./g,"").replace("$#$","."),this.buyNum=this.buyNum.replace(/\.{2,}/g,".");var t=parseFloat(this.buyPrice),a=parseFloat(this.buyNum),e=parseFloat(this.usableIn),s=(this.buyNum+"").split("."),i=s[1]?s[1].length:0;i>this.nowPairData.localData.volumePrecision&&(this.buyNum=s[0]+"."+s[1].substring(0,this.nowPairData.localData.volumePrecision)),t?(this.buyNumMax=x["a"].toFloat(1*e/(t*(1+1*this.nowPairData.localData.takeFee)),this.nowPairData.localData.volumePrecision),this.buyPosition=0==this.buyNum||0==this.buyNumMax?0:Math.round(this.buyNum/this.buyNumMax*100)):this.turnIn=x["a"].toCeil(0,this.nowPairData.localData.pricePrecision),this.turnIn=t&&a||0===t||0===a?x["a"].toCeil(t*a*(1+1*this.nowPairData.localData.takeFee),this.nowPairData.localData.pricePrecision):x["a"].toCeil(0,this.nowPairData.localData.pricePrecision),this.showBuyInPosition=!0},sellNumChange:function(){this.sellNum=this.sellNum.replace(/[^\d.]/g,""),this.sellNum=this.sellNum.replace(/\.{2,}/g,"."),this.sellNum=this.sellNum.replace(".","$#$").replace(/\./g,"").replace("$#$","."),this.sellNum=this.sellNum.replace(/\.{2,}/g,".");var t=parseFloat(this.sellPrice),a=parseFloat(this.sellNum),e=parseFloat(this.usableOut),s=(this.sellNum+"").split("."),i=s[1]?s[1].length:0;i>this.nowPairData.localData.volumePrecision&&(this.sellNum=s[0]+"."+s[1].substring(0,this.nowPairData.localData.volumePrecision)),t?(this.sellNumMax=x["a"].toFloat(e,this.nowPairData.localData.volumePrecision),this.sellPosition=0==this.sellNum||0==this.sellNumMax?0:Math.round(this.sellNum/this.sellNumMax*100)):this.turnOut=x["a"].toFloat(0,this.nowPairData.localData.pricePrecision),this.turnOut=t&&a?(t*a*(1-1*this.nowPairData.localData.takeFee)).toFixed(this.nowPairData.localData.pricePrecision):x["a"].toFloat(0,this.nowPairData.localData.pricePrecision),this.showBuyOutPosition=!0},sellNumChangeBest:function(){this.sellNumBest=this.sellNumBest.replace(/[^\d.]/g,""),this.sellNumBest=this.sellNumBest.replace(/\.{2,}/g,"."),this.sellNumBest=this.sellNumBest.replace(".","$#$").replace(/\./g,"").replace("$#$","."),this.sellNumBest=this.sellNumBest.replace(/\.{2,}/g,".");var t=parseFloat(this.nowPairData.marketData.n),a=parseFloat(this.sellNumBest),e=parseFloat(this.usableOut),s=(this.sellNumBest+"").split("."),i=s[1]?s[1].length:0;i>this.nowPairData.localData.volumePrecision&&(this.sellNumBest=s[0]+"."+s[1].substring(0,this.nowPairData.localData.volumePrecision)),t?(this.sellNumMax=x["a"].toFloat(e,this.nowPairData.localData.volumePrecision),this.sellPositionMarket=0==this.sellNumBest||0==this.sellNumMax?0:Math.round(this.sellNumBest/this.sellNumMax*100)):this.turnOutMarket=x["a"].toFloat(0,this.nowPairData.localData.pricePrecision),this.turnOutMarket=t&&a?(t*a*(1-1*this.nowPairData.localData.takeFee)).toFixed(this.nowPairData.localData.pricePrecision):x["a"].toFloat(0,this.nowPairData.localData.pricePrecision),this.showBuyOutPosition=!0},changeBuyFocus:function(t){var a=parseFloat(this.buyPrice),e=parseFloat(this.usableIn);if(a){var s=B["a"].chioceBuyFocus(t,a,e)/(1+1*this.nowPairData.localData.takeFee);s=x["a"].toFloat(s,this.nowPairData.localData.volumePrecision),this.buyNum=s,this.buyNumMax=x["a"].toFloat(1*e/(a*(1+1*this.nowPairData.localData.takeFee)),this.nowPairData.localData.volumePrecision)}(a&&s||0===a||0===s)&&(this.turnIn=x["a"].toCeil(a*s*(1+1*this.nowPairData.localData.takeFee),this.nowPairData.localData.pricePrecision))},changeBuyFocusMarket:function(t){var a=parseFloat(this.usableIn)*t/100;this.turnInMarket=x["a"].toFloat(a,this.nowPairData.localData.pricePrecision),this.buyNumBest=x["a"].toCeil(this.turnInMarket,this.nowPairData.localData.pricePrecision)},changeSellFocus:function(t){var a=parseFloat(this.sellPrice),e=parseFloat(this.usableOut),s=B["a"].chioceSellFocus(t,e);s=x["a"].toFloat(s,this.nowPairData.localData.volumePrecision),this.sellNum=s,a&&s&&(this.turnOut=x["a"].toFloat(a*s*(1-1*this.nowPairData.localData.takeFee),this.nowPairData.localData.pricePrecision))},changeSellFocusMarket:function(t){var a=parseFloat(this.usableOut)*t/100;this.sellNumBest=x["a"].toFloat(a,this.nowPairData.localData.volumePrecision),this.turnOutMarket=x["a"].toCeil(this.sellNumBest*this.nowPairData.marketData.n,this.nowPairData.localData.volumePrecision)},buyIeo:function(){var t=this.commonApi.user,a=!!t.googleBind,e=!!t.phone;if(a||e){if(!this.buyPrice)return void Vue.notify({group:"notification",type:"warn",text:this.$t("Please input buy price.")});if(!this.buyNum)return void Vue.notify({group:"notification",type:"warn",text:this.$t("Please input buy quantity.")});if(1*this.buyNum>1*this.buyNumMax)return void Vue.notify({group:"notification",type:"warn",text:this.$t("Can Buy up to {0}",[this.buyNumMax])});this.nowPairData.localData.sellDisabled?this.ieoDialogShow=!0:this.buyIn()}else this.kycShow=!0,this.kycType="kycTransaction"},buyIeoBest:function(){var t=this.commonApi.user,a=!!t.googleBind,e=!!t.phone;if(a||e){if(!this.buyNumBest)return void Vue.notify({group:"notification",type:"warn",text:this.$t("Please input buy amount.")});this.nowPairData.localData.sellDisabled?this.ieoDialogShow=!0:this.buyInBest()}else this.kycShow=!0,this.kycType="kycTransaction"},closeIeo:function(){this.ieoDialogShow=!1},buyIn:function(){var t=this;if(this.buyPrice)if(this.buyNum)if(1*this.buyNum>1*this.buyNumMax)Vue.notify({group:"notification",type:"warn",text:this.$t("Can Buy up to {0}",[this.buyNumMax])});else{this.buyDisabled=!0,this.ieoDisabled=!0,setTimeout((function(){t.buyDisabled=!1,t.ieoDisabled=!1}),2e3);var a={accountType:6,tradePairName:this.nowPairData.localData.tradePairName,orderDirection:1,orderType:1,orderQuantity:1*this.buyNum,orderPrice:1*this.buyPrice};this.$http.post("/margin/trade/order",a).then((function(a){Vue.notify({group:"notification",type:"success",text:t.$t("Order Place Success")}),t.ieoDialogShow=!1,t.buyDisabled=!1,t.ieoDisabled=!1,t.buyPrice="",t.buyNum="",t.sellPrice="",t.sellNum="",t.buyPosition=0,setTimeout((function(){t.usable(),t.$emit("getMarginValue")}),500)})).catch((function(t){Vue.notify({group:"notification",type:"error",text:t})}))}else Vue.notify({group:"notification",type:"warn",text:this.$t("Please input buy quantity.")});else Vue.notify({group:"notification",type:"warn",text:this.$t("Please input buy price.")})},buyInBest:function(){var t=this;this.buyDisabled=!0,this.ieoDisabled=!0,setTimeout((function(){t.buyDisabled=!1,t.ieoDisabled=!1}),2e3);var a={accountType:6,tradePairName:this.nowPairData.localData.tradePairName,orderDirection:1,orderType:2,orderQuantity:1*this.buyNumBest,orderPrice:this.nowPairData.marketData.n};this.$http.post("/margin/trade/order",a).then((function(a){Vue.notify({group:"notification",type:"success",text:t.$t("Order Place Success")}),t.ieoDialogShow=!1,t.buyDisabled=!1,t.ieoDisabled=!1,t.buyPriceBest="",t.buyNumBest="",t.sellPriceBest="",t.sellNumBest="",t.buyPositionMarket=0,setTimeout((function(){t.usable(),t.$emit("getMarginValue")}),500)})).catch((function(t){Vue.notify({group:"notification",type:"error",text:t})}))},buyOut:function(){var t=this,a=this.commonApi.user,e=!!a.googleBind,s=!!a.phone;if(e||s)if(this.sellPrice)if(this.sellNum)if(1*this.sellNum>1*this.sellNumMax)Vue.notify({group:"notification",type:"warn",text:this.$t("Can Sell up to {0}",[this.sellNumMax])});else{this.sellDisabled=!0,setTimeout((function(){t.sellDisabled=!1}),2e3);var i={accountType:6,tradePairName:this.nowPairData.localData.tradePairName,orderDirection:2,orderType:1,orderQuantity:1*this.sellNum,orderPrice:1*this.sellPrice};this.$http.post("/margin/trade/order",i).then((function(a){Vue.notify({group:"notification",type:"success",text:t.$t("Order Place Success")}),t.sellDisabled=!1,t.buyPrice="",t.buyNum="",t.sellPrice="",t.sellNum="",t.sellPosition=0,setTimeout((function(){t.usable(),t.$emit("getMarginValue")}),500)})).catch((function(t){Vue.notify({group:"notification",type:"error",text:t})}))}else Vue.notify({group:"notification",type:"warn",text:this.$t("Please input sell quantity.")});else Vue.notify({group:"notification",type:"warn",text:this.$t("Please input sell price.")});else this.kycShow=!0,this.kycType="kycTransaction"},buyOutBest:function(){var t=this,a=this.commonApi.user,e=!!a.googleBind,s=!!a.phone;if(e||s)if(this.sellDisabled=!0,setTimeout((function(){t.sellDisabled=!1}),2e3),this.sellNumBest){var i={accountType:6,tradePairName:this.nowPairData.localData.tradePairName,orderDirection:2,orderType:2,orderQuantity:1*this.sellNumBest,orderPrice:this.nowPairData.marketData.n};this.$http.post("/margin/trade/order",i).then((function(a){Vue.notify({group:"notification",type:"success",text:t.$t("Order Place Success")}),t.sellDisabled=!1,t.buyPriceBest="",t.buyNumBest="",t.sellPriceBest="",t.sellNumBest="",t.sellPositionMarket=0,setTimeout((function(){t.usable(),t.$emit("getMarginValue")}),500)})).catch((function(t){Vue.notify({group:"notification",type:"error",text:t})}))}else Vue.notify({group:"notification",type:"warn",text:this.$t("Please input sell quantity.")});else this.kycShow=!0,this.kycType="kycTransaction"},kycChange:function(){this.kycShow=!1},getSelectPrice:function(t){"price"===t.field&&(this.buyPrice=t.price,this.sellPrice=t.price),"sell"!==t.type||"amount"!==t.field&&"total"!==t.field||(this.buyNum=t.value,this.buyPrice=t.price,this.sellPrice=t.price,this.buyNumChange()),"buy"!==t.type||"amount"!==t.field&&"total"!==t.field||(this.sellNum=t.value,this.buyPrice=t.price,this.sellPrice=t.price,this.sellNumChange())},usable:function(){this.usableIn="0.00",this.usableOut="0.00",this.commonApi.user&&this.nowPairData.localData.quoteAsset&&this.nowPairData.localData.baseAsset||(this.usableIn="0.00",this.usableOut="0.00")},changeByInPosition:function(t){this.showBuyInPosition=t,t||(this.buyPositionInput=this.buyPosition)},changeByInPositionMarket:function(t){this.showBuyInPositionMarket=t,t||(this.buyPositionInputMarket=this.buyPositionMarket)},editByInPosition:function(t){t&&(this.buyPositionInput=Math.round(+this.buyPositionInput),this.buyPosition=this.buyPositionInput,this.changeBuyFocus(Math.round(+this.buyPositionInput))),this.showBuyInPosition=!0},editByInPositionMarket:function(t){t&&(this.buyPositionInputMarket=Math.round(+this.buyPositionInputMarket),this.buyPositionMarket=this.buyPositionInputMarket,this.changeBuyFocusMarket(Math.round(+this.buyPositionInputMarket))),this.showBuyInPositionMarket=!0},changeByOutPosition:function(t){this.showBuyOutPosition=t,t||(this.sellPositionInput=this.sellPosition)},changeByOutPositionMarket:function(t){this.showBuyOutPositionMarket=t,t||(this.sellPositionInputMarket=this.sellPositionMarket)},editByOutPosition:function(t){t&&(this.sellPositionInput=Math.round(+this.sellPositionInput),this.sellPosition=this.sellPositionInput,this.changeSellFocus(Math.round(+this.sellPositionInput))),this.showBuyOutPosition=!0},editByOutPositionMarket:function(t){t&&(this.sellPositionInputMarket=Math.round(+this.sellPositionInputMarket),this.sellPositionMarket=this.sellPositionInputMarket,this.changeSellFocus(Math.round(+this.sellPositionInputMarket))),this.showBuyOutPositionMarket=!0},buyPositionInputChange:function(t){"Enter"!==t.key?(this.buyPositionInput=this.buyPositionInput.replace(/[^\.\d]/g,""),this.buyPositionInput=this.buyPositionInput.replace(".",""),this.buyPositionInput>100&&(this.buyPositionInput=100),this.buyPositionInput<0&&(this.buyPositionInput=0)):this.editByInPosition(!0)},buyPositionInputChangeMarket:function(t){"Enter"!==t.key?(this.buyPositionInputMarket=this.buyPositionInputMarket.replace(/[^\.\d]/g,""),this.buyPositionInputMarket=this.buyPositionInputMarket.replace(".",""),this.buyPositionInputMarket>100&&(this.buyPositionInputMarket=100),this.buyPositionInputMarket<0&&(this.buyPositionInputMarket=0)):this.editByInPositionMarket(!0)},sellPositionInputChange:function(t){"Enter"!==t.key?(this.sellPositionInput=this.sellPositionInput.replace(/[^\.\d]/g,""),this.sellPositionInput=this.sellPositionInput.replace(".",""),this.sellPositionInput>100&&(this.sellPositionInput=100),this.sellPositionInput<0&&(this.sellPositionInput=0)):this.editByOutPosition(!0)},sellPositionInputChangeMarket:function(t){"Enter"!==t.key?(this.sellPositionInputMarket=this.sellPositionInputMarket.replace(/[^\.\d]/g,""),this.sellPositionInputMarket=this.sellPositionInputMarket.replace(".",""),this.sellPositionInputMarket>100&&(this.sellPositionInputMarket=100),this.sellPositionInputMarket<0&&(this.sellPositionInputMarket=0)):this.editByOutPositionMarket(!0)},tabChange:function(t){this.currentView=0===t,this.selected=t,this.selected_sell=t},tabChangeSell:function(t){this.currentView=0===t,this.selected_sell=t,this.selected=t},setAssetValues:function(t,a){this.usableIn=t,this.usableOut=a}},components:{kyc:M["a"],Vodal:N["a"]},beforeMount:function(){var t=this.commonApi.user;t&&(this.authentication="3"===t.isAuth,this.google=!!t.mobileDevice,this.pinPsw=!!t.moneyPasswd,this.usable(),this.LtxDiscountSwitch=this.commonApi.user.LtxDiscountSwitch)},mounted:function(){}},O=F,L=(e("de4a"),e("d265"),e("71a3")),V=e("c671"),W=e("fe57"),q=e("aac8"),R=Object(_["a"])(O,I,$,!1,null,"3551cb93",null),E=R.exports;D()(R,{VTab:L["a"],VTabItem:V["a"],VTabs:W["a"],VTabsItems:q["a"]});var j=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content-box"},[s("v-tabs",{attrs:{color:"#000000","active-class":"activated","slider-color":"#2d60e0",height:"35",dark:"","hide-slider":""},model:{value:t.activeTab,callback:function(a){t.activeTab=a},expression:"activeTab"}},[s("v-tab",{key:t.$t("el.market.OpenOrders"),attrs:{href:"#current"},on:{click:function(a){return t.tabClick("current")}}},[t._v(" "+t._s(t.$t("el.market.OpenOrders"))+" ")]),s("v-tab",{key:t.$t("el.market.ClosedOrders"),attrs:{href:"#history"},on:{click:function(a){return t.tabClick("history")}}},[t._v(" "+t._s(t.$t("el.market.ClosedOrders"))+" ")])],1),"current"==t.activeTab||"history"==t.activeTab?s("div",["current"==t.activeTab?s("div",{staticClass:"showNowTan"},[s("span",{staticClass:"checkout-icon",class:{show:t.isShowNowTan},on:{click:t.clickNowInput}}),s("label",{staticClass:"historyLabel",attrs:{for:"showNowTan"}},[t._v(t._s(t.$t("Hide Other Pairs")))]),t.commonApi.user?s("a",{staticClass:"examine-all",attrs:{href:"/orderNow"}},[t._v(t._s(t.$t("el.market.showAll")))]):t._e()]):s("div",{staticClass:"showNowTan historyTan"},[s("span",{staticClass:"checkout-icon",class:{show:t.isHistoryTan},on:{click:t.clickHistoryInput}}),s("label",{staticClass:"historyLabel",attrs:{for:"historyTan"}},[t._v(t._s(t.$t("Hide Other Pairs")))]),t.commonApi.user?s("a",{staticClass:"examine-all",attrs:{href:"/orderHistory"}},[t._v(t._s(t.$t("el.market.showAll")))]):t._e()])]):t._e(),s("div",{staticClass:"pageBox"},[s("v-tabs-items",{model:{value:t.activeTab,callback:function(a){t.activeTab=a},expression:"activeTab"}},[s("v-tab-item",{directives:[{name:"loading",rawName:"v-loading",value:t.currentLoading,expression:"currentLoading"}],staticClass:"first",attrs:{value:"current",name:"current"}},[s("ul",{staticClass:"consignationList",style:{height:t.isSmall?"148px":"228px"}},[s("li",{staticClass:"consignationHead"},[s("span",[t._v(t._s(t.$t("el.market.PlacedTime")))]),s("span",[t._v(t._s(t.$t("el.market.Symbol")))]),s("span",[t._v(t._s(t.$t("Order Type")))]),s("span",[t._v(t._s(t.$t("el.orderHistory.Price")))]),s("span",[t._v(t._s(t.$t("el.market.OrderQuantity")))]),s("span",[t._v(t._s(t.$t("el.market.Quantity")))]),s("span",[t._v(t._s(t.$t("Order Total")))]),s("span",[t._v(t._s(t.$t("Filled%")))]),s("span",[t._v(t._s(t.$t("el.market.operation")))])]),t.currentData.tableData.length<1?s("li",{staticClass:"no-record"},[s("span",[s("v-icon",{staticClass:"left",attrs:{color:"blue darken-2"}},[t._v(t._s("fa fa-file-text-o"))])],1),s("span",[t._v(t._s(t.$t("el.market.NoRecords")))])]):t._e(),t._l(t.currentData.tableData,(function(a,e){return[s("li",{key:a.orderId,staticClass:"consignationCon"},[s("span",[t._v(t._s(a.orderTime))]),s("span",[t._v(t._s(a.baseAsset+"/"+a.quoteAsset))]),s("span",{directives:[{name:"show",rawName:"v-show",value:t.isShowInSmallLeft,expression:"isShowInSmallLeft"}]},[t._v(t._s(a.tradeMsg))]),s("span",[t._v(t._s(a.orderPrice))]),s("span",[t._v(t._s(1==a.orderDirection&&2==a.orderType?0:a.quantity))]),s("span",[t._v(t._s(a.filledQuantity))]),s("span",[t._v(t._s(a.totalEntrustment))]),s("span",[t._v(t._s(t.toNum.toFloat(2==a.orderType?100*t.toNum.accDiv(a.filledAmount,a.amount):100*t.toNum.accDiv(a.filledQuantity,a.quantity)))+"%")]),s("span",{staticClass:"back-button"},[s("span",{on:{click:function(a){return t.deleteRow(e,t.currentData.tableData)}}},[t._v(" "+t._s(t.$t("el.market.Cancel"))+" ")])])]),t.currentActive===e?s("li",{key:e},[s("div",{staticClass:"detailInfoDiv"},[s("ul",{staticClass:"datailUlTop"},[s("li",[t._v(t._s(t.$t("el.market.TranTime")))]),s("li",[t._v(t._s(t.$t("el.market.Volume")))]),s("li",[t._v(t._s(t.$t("el.market.FinalPrice")))]),s("li",[t._v(t._s(t.$t("el.market.Turnover")))]),s("li",[t._v(t._s(t.$t("el.market.FeesC")))])]),s("ul",{staticClass:"datailUlMain"},t._l(t.currentDetailData,(function(e,i){return s("li",{key:i},[s("span",[t._v(t._s(e.tradeTime))]),s("span",[t._v(t._s(e.quantity))]),s("span",{staticClass:"span3"},[t._v(t._s(e.price))]),s("span",{staticClass:"span4"},[t._v(t._s(e.amount))]),-1==e.feeByLtx?s("span",{staticClass:"span5"},[t._v(t._s(e.fee)+" "+t._s(a.quoteAsset))]):s("span",{staticClass:"span5"},[t._v(t._s(e.feeByLtx)+" LTX")])])})),0)])]):t._e()]})),5===t.currentData.tableData.length||t.currentData.pageNum>1?s("div",{staticClass:"page-t",style:{position:t.isSmall?"":"absolute",bottom:t.isSmall?"":"0"}},[1!==t.currentData.pageNum?s("span",{staticClass:"page-msg",on:{click:t.currentDataPageJump}},[t._v(t._s(t.$t("Return to the first page")))]):t._e(),s("span",{staticClass:"page-change"},[s("button",{staticClass:"page-change-btn page-prev",class:{disabled:1==t.currentData.pageNum},attrs:{type:"button"},on:{click:t.currentDataPrevPage}},[t._v("<")]),5!==t.currentData.tableData.length||t.currentData.pageEnd?s("button",{staticClass:"page-change-btn page-next disabled",attrs:{type:"button"},on:{click:t.currentDataNextPage}},[t._v(">")]):s("button",{staticClass:"page-change-btn page-next",attrs:{type:"button"},on:{click:t.currentDataNextPage}},[t._v(">")])])]):t._e()],2)]),s("v-tab-item",{directives:[{name:"loading",rawName:"v-loading",value:t.historyLoading,expression:"historyLoading"}],staticClass:"first",attrs:{value:"history",name:"history"}},[s("ul",{staticClass:"consignationList history-list",style:{height:t.isSmall?"148px":"228px"}},[s("li",{staticClass:"consignationHead"},[s("span",[t._v(t._s(t.$t("el.market.PlacedTime")))]),s("span",[t._v(t._s(t.$t("el.market.Symbol")))]),s("span",[t._v(t._s(t.$t("Order Type")))]),s("span",[t._v(t._s(t.$t("el.orderHistory.Price")))]),s("span",[t._v(t._s(t.$t("el.market.OrderQuantity")))]),s("span",[t._v(t._s(t.$t("el.market.Quantity")))]),s("span",[t._v(t._s(t.$t("el.market.AveragePrice")))]),s("span",[t._v(t._s(t.$t("Turnover-Total")))]),s("span",[t._v(t._s(t.$t("el.orderHistory.Status")))])]),t.historyData.tableData.length<1?s("li",{staticClass:"no-record"},[s("span",[s("v-icon",{staticClass:"left",attrs:{color:"blue darken-2"}},[t._v(t._s("fa fa-file-text-o"))])],1),s("span",[t._v(t._s(t.$t("el.market.NoRecords")))])]):t._e(),t._l(t.historyData.tableData,(function(a,i){return[s("li",{key:a.orderId,staticClass:"consignationCon",class:2!==a.orderStatus?t.historyActive===i?"open":"":"cancelled "},[s("span",[t._v(t._s(a.orderTime))]),s("span",[t._v(t._s(a.baseAsset+"/"+a.quoteAsset))]),s("span",[t._v(t._s(1==a.orderDirection?t.$t("el.market.Buy"):t.$t("el.market.Sell")))]),s("span",[t._v(t._s(a.orderPrice))]),s("span",[t._v(t._s(1==a.orderDirection&&2==a.orderType?0:a.quantity))]),s("span",[t._v(t._s(a.filledQuantity))]),s("span",[t._v(t._s(a.avgPrice))]),s("span",[t._v(t._s(a.filledAmount))]),s("span",{staticClass:"state"},[t._v(" "+t._s(t.getStatusText(a.orderStatus))+" "),2!==a.orderStatus?s("span",{staticClass:"consignaDetText hisConsignaDetText",on:{click:function(e){return t.historyDeatil(a,i,a.orderId)}}},[t.historyActive===i?s("img",{attrs:{src:e("1cee")}}):s("img",{attrs:{src:e("2f53"),alt:""}})]):t._e()])]),t.historyActive===i?s("li",{key:i},[s("div",{staticClass:"detailInfoDiv"},[s("ul",{staticClass:"datailUlTop"},[s("li",[t._v(t._s(t.$t("el.market.TranTime")))]),s("li",[t._v(t._s(t.$t("Trading price")))]),s("li",[t._v(t._s(t.$t("el.market.Quantity")))]),s("li",[t._v(t._s(t.$t("Turnover-Total")))]),s("li",[t._v(t._s(t.$t("el.market.FeesC")))])]),s("ul",{staticClass:"datailUlMain"},t._l(t.historyDetailData,(function(e,i){return s("li",{key:i},[s("span",[t._v(t._s(e.tradeTime))]),s("span",{staticClass:"span3"},[t._v(t._s(e.price))]),s("span",[t._v(t._s(e.quantity))]),s("span",{staticClass:"span4"},[t._v(t._s(e.amount))]),-1==e.feeByLtx?s("span",{staticClass:"span5"},[t._v(t._s(t.toNum.toCeil(e.fee,8))+" "+t._s(a.quoteAsset))]):s("span",{staticClass:"span5"},[t._v(t._s(t.toNum.toCeil(e.feeByLtx,8))+" LTX")])])})),0)])]):t._e()]})),5===t.historyData.tableData.length||t.historyData.pageNum>1?s("div",{staticClass:"page-t",style:{position:t.isSmall?"":"absolute",bottom:t.isSmall?"":"0"}},[1!==t.historyData.pageNum?s("span",{staticClass:"page-msg",on:{click:t.historyDataPageJump}},[t._v(t._s(t.$t("Return to the first page")))]):t._e(),s("span",{staticClass:"page-change"},[s("button",{staticClass:"page-change-btn page-prev",class:{disabled:1==t.historyData.pageNum},attrs:{type:"button"},on:{click:t.historyDataPrevPage}},[t._v("<")]),5===t.historyData.tableData.length||t.historyData.pageEnd?s("button",{staticClass:"page-change-btn page-next",attrs:{type:"button"},on:{click:t.historyDataNextPage}},[t._v(">")]):s("button",{staticClass:"page-change-btn page-next disabled",attrs:{type:"button"},on:{click:t.historyDataNextPage}},[t._v(">")])])]):t._e()],2)]),s("v-tab-item",{directives:[{name:"loading",rawName:"v-loading",value:t.positionLoading,expression:"positionLoading"}],staticClass:"first",attrs:{value:"position",name:"position"}},[s("ul",{staticClass:"consignationList scroll my-position"},[t.userId?t._e():s("li",{staticClass:"no-record"},[s("span",[s("v-icon",{staticClass:"left",attrs:{color:"blue darken-2"}},[t._v(t._s("fa fa-file-text-o"))])],1),s("span",[t._v(t._s(t.$t("el.market.NoRecords")))])]),s("li",{staticClass:"consignationHead"},[s("span",[t._v(t._s(t.$t("el.market.Asset")))]),s("span",[t._v(t._s(t.$t("el.market.Available")))]),s("span",[t._v(t._s(t.$t("el.market.Reserved")))]),s("span",[t._v(t._s(t.$t("el.market.Total")))]),s("span",[t._v(t._s(t.$t("el.userCenter.btcValuation")))])]),t._l(t.hasBalanceData,(function(a,e){return s("li",{key:e,staticClass:"consignationCon"},[s("span",[t._v(t._s(a.type))]),s("span",[t._v(t._s(a.balance))]),s("span",[t._v(t._s(a.frozenBalance))]),s("span",[t._v(t._s(a.total))]),s("span",{staticClass:"valuation"},[s("span",{staticClass:"valuation-btc"},[t._v(" "+t._s(a.preestimateBTC)+" ")]),s("span",{staticClass:"valuation-currency"},[t._v(" ≈"+t._s(a.localPreestimate)+t._s(t.preestimateType)+" ")])])])}))],2)])],1)],1)],1)},G=[],H=(e("4de4"),e("c975"),e("d3b7"),{props:["CH","isSmall"],data:function(){return{isWebSocket:!0,allowRequests:!0,oldTradepair:"",currentActive:"-1",historyActive:"-1",currentDetailData:[],historyDetailData:[],userMsg:null,userId:"",balance:"B5000.00",frozenBalance:"￥1000.00",timer:null,currentData:{pageNum:1,pages:1,total:0,pageSize:5,pageEnd:!1,tableData:[]},historyData:{pageNum:1,pages:1,total:0,pageSize:5,pageEnd:!1,tableData:[]},hasBalanceData:[],activeTab:"current",pricePrecision:.01,cntPrecision:.01,pricePrecisionNum:8,cntPrecisionNum:2,currentDataPrevPageShow:!1,isShowNowTan:!1,isHistoryTan:!1,currenttradeStr:"",historytradeStr:"",currencySymbol:"",isShowInSmallLeft:!0,isShowInSmallRight:!0,preestimateType:"CNY",currentLoading:!1,historyLoading:!1,positionLoading:!1,lastTab:"current"}},computed:Object(o["a"])({},Object(f["mapGetters"])(["nowPairData"])),methods:{sendWebSocketUnsub:function(){this.isWebSocket&&y["a"].send({op:"unsub",topic:"margin.List."+this.oldTradepair,rid:""})},sendWebsocketSub:function(){if(this.isWebSocket){var t=new Date,a=this.commonApi.user;null!=a&&null!=a.token&&(this.oldTradepair=this.currenttradeStr,y["a"].send({op:"sub",topic:"margin.List."+this.currenttradeStr,rid:(0-t.getTimezoneOffset())/60+","+this.currentData.pageNum+","+this.currentData.pageSize+",Bearer "+a.token}))}},onWebSocketOpen:function(){this.allowRequests=!1,this.isWebSocket=!0,this.sendWebsocketSub()},onWebSocketMessage:function(t){if(this.isWebSocket=!0,this.allowRequests=!1,"current"===this.activeTab&&null!=t&&t.Topic=="margin.List."+this.currenttradeStr){if(null==t.Data.data.list)return this.currentLoading=!1,this.currentData.pageEnd=!0,void(this.currentData.tableData=[]);this.currentLoading=!1,null!=t.Data.data.list&&(this.currentData.tableData=t.Data.data.list,this.currentData.pageEnd=!1,this.currentData.tableData.filter((function(t){"0"===t.filledQuantity?t.state=this.$t("el.orderHistory.Unfilled"):t.state=this.$t("el.orderHistory.PartialFilled"),2===t.orderDirection?t.tradeMsg=this.$t("el.market.Sell"):t.tradeMsg=this.$t("el.market.Buy");var a=b["a"].getTradePair(t.tradePair);a&&(t.filledQuantity=x["a"].toFloat(t.filledQuantity,a.volumePrecision),t.quantity=x["a"].toFloat(t.quantity,a.volumePrecision),t.orderPrice=x["a"].toFloat(t.orderPrice,a.pricePrecision))}),this))}},onWebSocketClose:function(){this.isWebSocket&&(this.isWebSocket=!1,this.allowRequests=!0)},currentDeatil:function(t,a,e){var s=this;this.currentActive===a?this.currentActive=-1:(this.currentActive=a,this.$http.get("/trade/tradedetail/list",{params:{orderId:e}}).then((function(t){t.data.data&&(s.currentDetailData=t.data.data)})).catch((function(t){console.warn(t+"")})))},historyDeatil:function(t,a,e){var s=this;this.historyActive===a?this.historyActive=-1:(this.historyActive=a,this.$http.get("/trade/tradedetail/list",{params:{orderId:e}}).then((function(t){t.data.data&&(s.historyDetailData=t.data.data)})).catch((function(t){console.warn(t+"")})))},clickNowInput:function(){this.isShowNowTan=!this.isShowNowTan,this.commonApi.user&&(this.currentData.pageNum=1,this.currentActive="-1",this.sendWebSocketUnsub(),this.sendWebsocketSub())},clickHistoryInput:function(){this.isHistoryTan=!this.isHistoryTan,this.commonApi.user&&(this.historyData.pageNum=1,this.historyActive="-1",this.history())},tabClick:function(t){var a=t.name||t;a!==this.lastTab&&(this.lastTab=a,this.activeTab=a,this.userId&&(clearInterval(this.timer),"current"===a?this.currentLoading=!0:"history"===a?this.history():"position"===a&&this.position()))},deleteRow:function(t,a){var e=this;this.$http.post("/trade/order/cancel",{orderId:a[t].orderId}).then((function(t){e.myMsg.tradeMsg(e,"提交成功"),e.sendWebSocketUnsub(),e.sendWebsocketSub(),setTimeout((function(){e.$emit("triggerUsable")}),1e3)})).catch((function(t){Vue.notify({group:"notification",type:"error",text:t})}))},currentDataPrevPage:function(){this.currentData.pageEnd&&(this.currentLoading=!0,this.currentData.pageNum--),this.currentData.pageNum>1?(this.currentLoading=!0,this.currentData.pageNum--,this.currentDataPrevPageShow=!0,this.sendWebSocketUnsub(),this.sendWebsocketSub(),this.currentActive=-1):this.currentData.pageNum=1},currentDataNextPage:function(){this.currentData.tableData.length<5||(this.currentData.pageEnd||(this.currentData.pageNum++,this.currentLoading=!0),this.currentDataPrevPageShow=!0,this.sendWebSocketUnsub(),this.sendWebsocketSub(),this.currentActive=-1)},historyDataPrevPage:function(){this.historyData.pageEnd&&(this.historyLoading=!0,this.historyData.pageNum--),this.historyData.pageNum>1?(this.historyLoading=!0,this.historyData.pageNum--):this.historyData.pageNum=1,this.history(),this.historyActive=-1},historyDataNextPage:function(){this.historyData.tableData.length<5||(this.historyData.pageEnd||(this.historyLoading=!0,this.historyData.pageNum++),this.history(),this.historyActive=-1)},historyDataPageJump:function(){this.historyLoading=!0,this.historyData.pageEnd=!1,this.historyData.pageNum=1,this.history()},currentDataPageJump:function(){this.currentData.pageEnd=!1,this.currentData.pageNum=1,this.sendWebSocketUnsub(),this.sendWebsocketSub()},getStatusText:function(t){switch(t){case 0:return this.$t("Unfilled");case 1:return this.$t("Filled");case 2:return this.$t("el.orderHistory.Canceled");case 3:return this.$t("el.orderHistory.PartialCanceled");default:return""}},history:function(){var t=this;this.commonApi.user?(this.historyLoading=!0,this.currenttradeStr=this.nowPairData.localData.tradePairName.split("/")[0]+this.nowPairData.localData.tradePairName.split("/")[1],this.$http.get("/margin/trade/hisorder/list",{params:{pageNum:this.historyData.pageNum,pageSize:this.historyData.pageSize,symbol:this.isHistoryTan?this.currenttradeStr:""}}).then((function(a){if(0===a.data.data.list.length)return t.historyLoading=!1,t.historyData.pageEnd=!0,void(1===t.historyData.pageNum&&(t.historyData.tableData=a.data.data.list));t.historyData.pageEnd=!1,t.historyData.tableData=a.data.data.list,t.historyData.tableData.filter((function(t){t.totalFee?t.totalFee=x["a"].toCeil(t.totalFee,6):t.totalFee="-";var a=b["a"].getTradePair(t.tradePair);a&&(t.filledQuantity=x["a"].toFloat(t.filledQuantity,a.volumePrecision),t.quantity=x["a"].toFloat(t.quantity,a.volumePrecision),t.orderPrice=x["a"].toFloat(t.orderPrice,a.pricePrecision),2===t.orderDirection?t.avgPrice=x["a"].toFloat(t.avgPrice,a.pricePrecision):t.avgPrice=x["a"].toCeil(t.avgPrice,a.pricePrecision))}),t),t.historyLoading=!1})).catch((function(a){t.historyLoading=!1,console.warn(a+"")}))):this.historyData.tableData=[]},current:function(){},position:function(){var t=this;this.commonApi.user?(this.positionLoading=!0,this.$http.get("/account/account/list",{params:{accountType:"1"}}).then((function(a){if(a.data.data){var e=[];t.currencySymbol=a.data.data.currencySymbol,a.data.data.list.forEach((function(a){a.type=t.CH?a.asset:a.englishAssetName+" ("+a.asset+")",1*a.totalBalance-1*a.frozenBalance===0?a.balance="0":a.balance=(1*a.totalBalance-1*a.frozenBalance).toFixed(8),a.frozenBalance&&"0"!==a.frozenBalance||(a.frozenBalance="0"),a.preestimateBTC&&"0"!==a.preestimateBTC||(a.preestimateBTC="0"),a.totalBalance&&"0"!==a.totalBalance?(a.total=a.totalBalance,-1===e.indexOf(a)&&e.push(a)):a.total="0"})),t.hasBalanceData=e}})).catch((function(t){console.warn(t+"")})).finally((function(){t.positionLoading=!1}))):this.hasBalanceData=[]},changePage:function(t){"left"===t?(this.isShowInSmallLeft=!0,this.isShowInSmallRight=!1):"right"===t&&(this.isShowInSmallLeft=!1,this.isShowInSmallRight=!0)}},components:{},watch:{CH:function(){this.userId&&(this.sendWebSocketUnsub(),this.sendWebsocketSub(),this.history(),this.position())},market:function(){this.userId&&(this.sendWebSocketUnsub(),this.sendWebsocketSub(),this.history(),this.position())},currentData:function(t,a){t.pageEnd!==a.pageEnd&&this.clickNowInput()},"nowPairData.localData.tradePairName":function(){"current"===this.activeTab?(this.currentData.pageNum=1,this.sendWebSocketUnsub(),this.sendWebsocketSub()):"history"===this.activeTab?(this.historyData.pageNum=1,this.history()):"position"===this.activeTab&&this.position()},isSmall:function(t){t?(this.isShowInSmallLeft=!0,this.isShowInSmallRight=!1):(this.isShowInSmallLeft=!0,this.isShowInSmallRight=!0)}},mounted:function(){var t=this;y["a"].register(this,(function(a,e){a&&console.error(a),t.isWebSocket=e})),this.userMsg=this.commonApi.user,this.userMsg&&(this.userId=this.userMsg.loginId,this.history(),this.position(),this.$http.get("/account/account/assetlist").then((function(a){t.preestimateType=a.data.data.preestimateType})))},beforeDestroy:function(){clearInterval(this.timer),y["a"].unregister(this),this.allowRequests=!1}}),U=H,J=(e("0fe7"),e("d237"),e("132d")),z=Object(_["a"])(U,j,G,!1,null,"41663b0e",null),Q=z.exports;D()(z,{VIcon:J["a"],VTab:L["a"],VTabItem:V["a"],VTabs:W["a"],VTabsItems:q["a"]});var Y=e("8e61"),K={computed:Object(o["a"])({},Object(f["mapGetters"])(["CH","market","nowPairData"])),data:function(){return{currencyDetail:!1,isMiddle:!1,isSmall:!1,showDetail:!1,tradesChangeType:"",isSideBarOpen:!0,theme:""}},watch:{"nowPairData.marketData.n":function(t){this.$emit("getNowPrice",this.nowPairData)}},methods:{priceSelect:function(t){this.$refs.transaction.getSelectPrice(t)},triggerUsable:function(){this.$refs.transaction.usable()},showCurrencyDetail:function(t){this.currencyDetail=t,this.showDetail=t},tradesChange:function(t){this.tradesChangeType=t.tradesChangeType},toLoginExchange:function(t){this.$emit("showLoginModal",1)},isSideOpen:function(t){this.isSideBarOpen=t},tradeTheme:function(t){this.theme=t},setAssetValues:function(t,a){this.$refs.transaction.setAssetValues(t,a)},getMarginValue:function(){this.$refs.marginArea.getMarginBalance()}},components:{tickerWrap:n["a"],kLineChart:r["a"],quotationChart:l["a"],tradesWrap:c["a"],marginArea:T,transactionChart:E,consignationChart:Q,marketSidebar:Y["a"]},beforeMount:function(){this.$emit("getNowPrice",this.nowPairData)},mounted:function(){var t=this;this.$emit("changeFocus","market"),document.documentElement.clientWidth<1600?this.isSmall=!0:this.isMiddle=!0,window.onresize=function(){document.documentElement.clientWidth<1600?t.isSmall=!0:t.isSmall=!1,document.documentElement.clientWidth>1600?t.isMiddle=!0:t.isMiddle=!1}},beforeDestroy:function(){}},X=K,Z=(e("37fc"),e("a1ff"),Object(_["a"])(X,s,i,!1,null,"cbd83f38",null));a["default"]=Z.exports},"73bd":function(t,a,e){"use strict";a["a"]={chioceBuyFocus:function(t,a,e){return t?e*t/100/a:0},chioceSellFocus:function(t,a){return a*t/100}}},"7c01":function(t,a,e){"use strict";var s=e("682a"),i=e.n(s);i.a},8270:function(t,a,e){"use strict";e("a9e3");var s=e("5530"),i=(e("3408"),e("a9ad")),o=e("24b2"),n=e("a236"),r=e("80d2"),l=e("58df"),c=Object(l["a"])(i["a"],o["a"],n["a"]).extend({name:"v-avatar",props:{left:Boolean,right:Boolean,size:{type:[Number,String],default:48}},computed:{classes:function(){return Object(s["a"])({"v-avatar--left":this.left,"v-avatar--right":this.right},this.roundedClasses)},styles:function(){return Object(s["a"])({height:Object(r["d"])(this.size),minWidth:Object(r["d"])(this.size),width:Object(r["d"])(this.size)},this.measurableStyles)}},render:function(t){var a={staticClass:"v-avatar",class:this.classes,style:this.styles,on:this.$listeners};return t("div",this.setBackgroundColor(this.color,a),this.$slots.default)}}),u=c;a["a"]=u.extend({name:"v-list-item-avatar",props:{horizontal:Boolean,size:{type:[Number,String],default:40}},computed:{classes:function(){return Object(s["a"])({"v-list-item__avatar--horizontal":this.horizontal},u.options.computed.classes.call(this),{"v-avatar--tile":this.tile||this.horizontal})}},render:function(t){var a=u.options.render.call(this,t);return a.data=a.data||{},a.data.staticClass+=" v-list-item__avatar",a}})},8897:function(t,a,e){"use strict";var s=e("1433"),i=e.n(s);i.a},"899c":function(t,a,e){},"8e61":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"marketSidebar"},[e("Tickers",{attrs:{sidebar:!0,isSideBarOpen:t.isSideBarOpen},on:{showLoginModal:t.showLoginModal}})],1)},i=[],o=e("cdbb"),n=(e("711d"),{props:["isSideBarOpen"],components:{Tickers:o["a"]},methods:{showLoginModal:function(){this.$emit("toLoginExchange",1)}}}),r=n,l=(e("ac45"),e("cf3a"),e("2877")),c=Object(l["a"])(r,s,i,!1,null,"1c9e95a5",null);a["a"]=c.exports},"9d13":function(t,a,e){},"9e8e":function(t,a,e){"use strict";var s=e("0607"),i=e.n(s);i.a},a1ff:function(t,a,e){"use strict";var s=e("f0a2"),i=e.n(s);i.a},a61d:function(t,a,e){"use strict";var s=e("2bfd"),i=e.n(s);i.a},ac45:function(t,a,e){"use strict";var s=e("1938"),i=e.n(s);i.a},b2e0:function(t,a,e){"use strict";var s=e("c8cd"),i=e.n(s);i.a},b7fa:function(t,a,e){"use strict";var s=e("6c95"),i=e.n(s);i.a},bd72:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("Vodal",{attrs:{width:480,height:t.isShowTradePair?"580":"490",show:t.isTransfer,animation:"rotate"},on:{hide:function(a){return t.close(!1,!1,!1)},clearVodal:t.clearVodal}},[s("header",{staticClass:"vodal-title"},[t._v(t._s(t.$t("el.home.margin.transfer")))]),s("form",[s("v-container",[t.loading?s("div",{staticClass:"loaDing"},[s("div",{staticClass:"loader"},[s("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[s("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none","stroke-width":"2","stroke-color":"#2d60e0","stroke-miterlimit":"10"}})])])]):t._e(),s("v-row",[s("v-col",{attrs:{cols:"12",md:"12"}},[s("label",{staticClass:"label",attrs:{for:"email"}},[t._v(t._s(t.$t("el.home.margin.transfer.Currency")))]),s("p",[s("el-select",{attrs:{placeholder:t.$t("el.home.margin.transfer.Token.Select")},model:{value:t.tokenVal,callback:function(a){t.tokenVal=a},expression:"tokenVal"}},t._l(t.tokens,(function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)])],1),s("v-row",[s("v-col",{attrs:{cols:"5",md:"5"}},[s("label",{staticClass:"label",attrs:{for:"email"}},[t._v(t._s(t.$t("el.home.margin.transfer.From")))]),s("p",[s("el-select",{attrs:{placeholder:t.$t("el.home.margin.transfer.Token.Select")},model:{value:t.FromAcc,callback:function(a){t.FromAcc=a},expression:"FromAcc"}},t._l(t.Accounts,(function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),s("v-col",{staticClass:"icon",attrs:{cols:"2",md:"2"}},[s("img",{staticStyle:{cursor:"pointer !important"},attrs:{src:e("523b"),alt:"Ltx"},on:{click:t.exchangeFromTo}})]),s("v-col",{attrs:{cols:"5",md:"5"}},[s("label",{staticClass:"label",attrs:{for:"email"}},[t._v(t._s(t.$t("el.home.margin.transfer.To")))]),s("p",[s("el-select",{attrs:{placeholder:t.$t("el.home.margin.transfer.Token.Select")},model:{value:t.ToAcc,callback:function(a){t.ToAcc=a},expression:"ToAcc"}},t._l(t.ToAccounts,(function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)])],1),t.isShowTradePair?s("v-row",[s("v-col",{attrs:{cols:"12",md:"12"}},[s("label",{staticClass:"label",attrs:{for:"email"}},[t._v(t._s(t.$t("el.home.margin.transfer.Pair")))]),s("p",[s("el-select",{model:{value:t.tradingPairVal,callback:function(a){t.tradingPairVal=a},expression:"tradingPairVal"}},t._l(t.tradingPairs,(function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)])],1):t._e(),s("v-row",[s("v-col",{attrs:{cols:"12",md:"12"}},[s("label",{staticClass:"label",attrs:{for:"email"}},[t._v(t._s(t.$t("el.home.margin.transfer.Amount")))]),s("el-input",{staticClass:"mt-5",attrs:{placeholder:"0.000"},model:{value:t.amount,callback:function(a){t.amount=a},expression:"amount"}})],1)],1),s("v-row",[s("v-col",{attrs:{cols:"6",md:"6"}},[s("span",{staticClass:"label"},[t._v(t._s(t.$t("el.home.margin.transfer.Available")))]),s("span",{staticClass:"val"},[t._v(" "+t._s(t.transferAvailable))])]),s("v-col",{attrs:{cols:"6",md:"6"}},[s("v-btn",{attrs:{color:"primary",dark:"",text:"",outlined:"",small:""},on:{click:t.TransferAll}},[t._v(" "+t._s(t.$t("el.home.margin.transfer.TransferAll"))+" ")])],1)],1),s("v-row",[s("v-col",{attrs:{cols:"6",md:"6"}}),s("v-col",{attrs:{cols:"6",md:"6"}},[s("v-btn",{attrs:{color:"primary",dark:"",large:"",tile:""},on:{click:t.transfer}},[t._v(" "+t._s(t.$t("el.home.margin.transfer.Confirm"))+" ")])],1)],1)],1)],1)])},i=[],o=(e("4160"),e("a630"),e("a434"),e("b0c0"),e("3ca3"),e("159b"),e("5530")),n=e("efe3"),r=e("2ef0"),l=e.n(r),c=e("711d"),u=e("5880"),h={computed:Object(o["a"])({},Object(u["mapGetters"])(["market"])),watch:{asset:function(){this.tokenVal=this.asset},market:function(){this.init(),this.tradingPairs=[{value:this.pairId,label:this.pairId}]},FromAcc:function(){var t=this;this.ToAccounts=Array.from(this.Accounts),"1"===this.FromAcc?this.ToAccounts.splice(0,1):"2"===this.FromAcc?this.ToAccounts.splice(1,1):"3"===this.FromAcc&&this.ToAccounts.splice(2,1),"2"==this.FromAcc||"2"==this.ToAcc?this.isShowTradePair=!0:this.isShowTradePair=!1;var a=!1;for(var e in this.ToAccounts)if(this.ToAcc==this.ToAccounts[e].value){a=!0;break}a||(this.ToAcc=""),""!==this.tokenVal&&void 0!==this.tokenVal&&(this.loading=!0,this.$http.post("/account/transfer/getLimit",{tradePair:this.pairId,fromAccount:this.FromAcc,asset:this.tokenVal}).then((function(a){t.transferAvailable=a.data.data.maxAmount,t.amount="0.00",console.log(a),t.loading=!1})).catch((function(a){t.loading=!1,t.amount="0.00",console.warn(a+"")})))},ToAcc:function(){"2"==this.FromAcc||"2"==this.ToAcc?this.isShowTradePair=!0:this.isShowTradePair=!1},tokenVal:function(){var t=this;""!==this.FromAcc&&(this.loading=!0,this.$http.post("/account/transfer/getLimit",{tradePair:this.pairId,fromAccount:this.FromAcc,asset:this.tokenVal}).then((function(a){t.transferAvailable=a.data.data.maxAmount,t.amount="0.00",console.log(a),t.loading=!1})).catch((function(a){t.amount="0.00",console.warn(a+""),t.loading=!1})))},tradingPairVal:function(){var t=this;""!==this.FromAcc&&(this.loading=!0,this.$http.post("/account/transfer/getLimit",{tradePair:this.pairId,fromAccount:this.FromAcc,asset:this.tokenVal}).then((function(a){t.transferAvailable=a.data.data.maxAmount,t.amount="0.00",console.log(a),t.loading=!1})).catch((function(a){t.amount="0.00",console.warn(a+""),t.loading=!1})))}},created:function(){this.tokenVal=this.asset},data:function(){return{tokens:[{value:"BTC",label:"BTC"},{value:"ETH",label:"ETH"}],tradingPairs:[{value:"BTC_USDT",label:"BTC/USDT"},{value:"ETH_USDT",label:"ETH/USDT"},{value:"XRP_USDT",label:"XRP/USDT"}],Accounts:[{value:"1",label:this.$t("el.home.margin.account.spot")},{value:"2",label:this.$t("el.home.margin.account.margin")},{value:"3",label:this.$t("el.home.margin.account.p2p")}],ToAccounts:[{value:"1",label:this.$t("el.home.margin.account.spot")},{value:"2",label:this.$t("el.home.margin.account.margin")},{value:"3",label:this.$t("el.home.margin.account.p2p")}],isShowTradePair:!1,ToAcc:"",FromAcc:"",tradingPairVal:"",tokenVal:"",fundingAcc:"",marginAcc:"",amount:"",pairId:"",baseAsset:"",quoteAsset:"",transferAvailable:"0.00",loading:!1}},props:{selPairId:{type:String},isTransfer:{type:Boolean,default:!1},path:{type:String},CH:{type:Boolean},isFromBalance:{type:Boolean,default:!1},asset:{type:String}},components:{Vodal:n["a"]},methods:{exchangeFromTo:function(){if(""!=this.FromAcc||""!=this.ToAcc){var t=this.FromAcc;this.FromAcc=this.ToAcc,this.ToAcc=t}},close:function(t,a,e){this.$emit("showModal",{isTransfer:t,isBorrow:a,isRepay:e})},init:function(){var t=this,a=this;this.isFromBalance?this.pairId=this.selPairId:this.pairId=this.$route.params.pairId||("Exchange"===this.$route.name?localStorage.getItem("pairId"+this.commonApi.site):localStorage.getItem("pairId"+this.commonApi.site+"Margin"))||this.market,this.tradingPairVal="",this.tokenVal="",this.FromAcc="",this.ToAcc="",this.tradingPairVal=this.pairId,this.transferAvailable="0.00",this.amount="0.00";var e=l.a.cloneDeep(c["a"].tradingPairGroups);e.forEach((function(e,s){l.a.forEach(e.list,(function(e,s){a.pairId===e.tradePair&&(a.baseAsset=e.baseAsset,a.quoteAsset=e.quoteAsset,a.tradingPairs=[{value:a.pairId,label:a.pairId}],a.tokens=[{value:t.baseAsset,label:t.baseAsset},{value:t.quoteAsset,label:t.quoteAsset}])}))}))},TransferAll:function(){this.amount=this.transferAvailable},transfer:function(){var t=this;if(""!==this.tokenVal&&void 0!==this.tokenVal)if(""!==this.FromAcc&&void 0!==this.FromAcc)if(""!==this.ToAcc&&void 0!==this.ToAcc)if(""!==this.amount&&void 0!==this.amount){this.loading=!0;var a=this;this.$http.post("/account/transfer/done",{asset:this.tokenVal,fromAccount:this.FromAcc,toAccount:this.ToAcc,tradePair:this.pairId,amount:this.amount}).then((function(e){t.loading=!1,200==e.data.code&&(t.close(!1,!1,!1),t.$emit("loadMargin",!0),a.$emit("getMarginBalance",!0),Vue.notify({group:"notification",type:"success",text:t.$t("Transfer success")}))})).catch((function(a){t.loading=!1,Vue.notify({group:"notification",type:"error",text:a})}))}else Vue.notify({group:"notification",type:"warn",text:this.$t("el.home.margin.marginTransfer.inputAmount")});else Vue.notify({group:"notification",type:"warn",text:this.$t("el.home.margin.marginTransfer.selectTo")});else Vue.notify({group:"notification",type:"warn",text:this.$t("el.home.margin.marginTransfer.selectFrom")});else Vue.notify({group:"notification",type:"warn",text:this.$t("el.home.margin.marginTransfer.selectCurrency")})},clearVodal:function(){this.init()}}},d=h,p=(e("3d28"),e("3183"),e("2877")),m=e("6544"),v=e.n(m),g=e("8336"),b=e("62ad"),f=e("a523"),y=e("0fd9"),k=Object(p["a"])(d,s,i,!1,null,"bcfeafd6",null);a["a"]=k.exports;v()(k,{VBtn:g["a"],VCol:b["a"],VContainer:f["a"],VRow:y["a"]})},c273:function(t,a,e){},c40d:function(t,a,e){},c8cd:function(t,a,e){},cdbb:function(t,a,e){"use strict";var s,i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"tickers app-card",style:{left:t.isSideBarOpen?"":"-280px"}},[t.sidebar?s("div",{staticClass:"searchInput"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"search",attrs:{autocomplete:"off",type:"text",placeholder:t.$t("el.home.search"),name:"search"},domProps:{value:t.keyword},on:{input:function(a){a.target.composing||(t.keyword=a.target.value)}}})]):t._e(),s("v-card",{class:{sidebar:t.sidebar}},[t.sidebar?t._e():s("v-tabs",{attrs:{"background-color":"#f2f5fa",color:"#2d60e0","active-class":"activated","slider-color":"#2d60e0","hide-slider":""},model:{value:t.activeTab,callback:function(a){t.activeTab=a},expression:"activeTab"}},t._l(t.tradePairGroups,(function(a){return s("v-tab",{key:a.groupName,attrs:{href:"#"+a.groupName},on:{click:function(e){return t.handleClick(a.groupName)}}},[t._v(" "+t._s(t.getGroupLabel(a.groupName))+" ")])})),1),t.sidebar?s("v-tabs",{attrs:{color:"#000000","active-class":"activated","slider-color":"#2d60e0",height:"40",dark:"","hide-slider":""},model:{value:t.activeTab,callback:function(a){t.activeTab=a},expression:"activeTab"}},t._l(t.tradePairGroups,(function(a){return s("v-tab",{key:a.groupName,attrs:{href:"#"+a.groupName},on:{click:function(e){return t.handleClick(a.groupName)}}},[t._v(" "+t._s(t.getGroupLabel(a.groupName))+" ")])})),1):t._e(),s("v-tabs-items",{model:{value:t.activeTab,callback:function(a){t.activeTab=a},expression:"activeTab"}},t._l(t.tradePairGroups,(function(a,i){return s("v-tab-item",{key:a.groupName,staticClass:"first",attrs:{value:a.groupName}},[t.sidebar?s("div",{staticClass:"market-title"},[s("span",{staticClass:"symbol cursor",on:{click:function(a){return t.sortSidebar("s")}}},[t._v(t._s(t.$t("Pairs"))+" "),s("img",{staticClass:"market-sort-icon",attrs:{src:t.getMarketIcon("s")}})]),s("span",{staticClass:"change-percent cursor",on:{click:function(a){return t.sortSidebar("n")}}},[t._v(t._s(t.$t("el.home.last"))+" "),s("img",{staticClass:"market-sort-icon",attrs:{src:t.getMarketIcon("n")}})]),s("span",{staticClass:"nowPrice cursor",on:{click:function(a){return t.sortSidebar("p")}}},[t._v(t._s(t.$t("Change"))+" "),s("img",{staticClass:"market-sort-icon",attrs:{src:t.getMarketIcon("p")}})])]):t._e(),s("div",{staticClass:"market-list"},[s("ul",[0===a.noOptional?s("li",{staticClass:"no-search"},[t._v(t._s(t.$t("You have no favorites")))]):0===a.visibleCount?s("li",{staticClass:"no-search"},[t._v(t._s(t.$t("el.home.nosearch")))]):t.sidebar?t._e():s("li",{staticClass:"market-head"},[s("span",{staticClass:"symbol cursor text-left uppercase",on:{click:function(a){return t.sortSidebar("s")}}},[t._v(t._s(t.$t("Pairs"))+" "),s("img",{staticClass:"sort-icon",attrs:{src:t.getSortIcon("s")}})]),s("span",{staticClass:"account cursor text-left uppercase"},[t._v(t._s(t.$t("Coin"))+" ")]),s("span",{staticClass:"nowPrice cursor padding-left40 text-left uppercase",on:{click:function(a){return t.sortSidebar("n")}}},[t._v(" "+t._s(t.$t("el.home.last"))+" "),s("img",{staticClass:"sort-icon",attrs:{src:t.getSortIcon("n")}})]),s("span",{staticClass:"change-percent cursor uppercase",on:{click:function(a){return t.sortSidebar("p")}}},[t._v(t._s(t.$t("24H Change"))+" "),s("img",{staticClass:"sort-icon",attrs:{src:t.getSortIcon("p")}})]),s("span",{staticClass:"change cursor uppercase",on:{click:function(a){return t.sortSidebar("high24")}}},[t._v(t._s(t.$t("24H High"))+" "),s("img",{staticClass:"sort-icon",attrs:{src:t.getSortIcon("high24")}})]),s("span",{staticClass:"change-low cursor uppercase",on:{click:function(a){return t.sortSidebar("low24")}}},[t._v(t._s(t.$t("24H Low"))+" "),s("img",{staticClass:"sort-icon",attrs:{src:t.getSortIcon("low24")}})]),t.activeTab===t.$t("Favorites")?s("span",{staticClass:"one-days cursor uppercase"},[t._v(" "+t._s(t.$t("24H Vol"))+" "),"USDT"===t.activeTab||"ETH"===t.activeTab||"BTC"===t.activeTab?[t._v(" "+t._s(t.activeTab)+" ")]:t._e(),t.activeTab!==t.$t("Favorites")?s("img",{staticClass:"sort-icon",attrs:{src:t.getSortIcon("amt24")}}):t._e()],2):s("span",{staticClass:"one-days cursor uppercase",on:{click:function(a){return t.sortSidebar("amt24")}}},[t._v(" "+t._s(t.$t("24H Vol"))+" "),"USDT"===t.activeTab||"ETH"===t.activeTab||"BTC"===t.activeTab?[t._v(" "+t._s(t.activeTab)+" ")]:t._e(),t.activeTab!==t.$t("Favorites")?s("img",{staticClass:"sort-icon",attrs:{src:t.getSortIcon("amt24")}}):t._e()],2)]),t._l(a.list,(function(a,o){return s("div",{key:a.tradePair},[[!a.visible||"Margin"!=t.$route.name||a.margin?s("li",{class:["market-data",t.color(a.a),{active:t.value==a.tradePair}],on:{click:function(e){return t.pairSelect(a.tradePair)}}},[s("span",{staticClass:"symbol text-left "},[t.sidebar?s("span",{staticClass:"symbol-cont"},[s("span",{staticClass:"optional",class:a.oneChoose?"yesOptional":"noOptional",on:{click:function(e){return e.stopPropagation(),t.getOptional(a,i,o)}}}),t.sidebar?s("span",{staticClass:"symbolName color-cdd1ea"},[t._v(t._s(a.baseAsset)+"/"+t._s(a.quoteAsset?a.quoteAsset:""))]):t._e(),a.latest?s("img",{staticClass:"new-icon",attrs:{src:e("d6cb")}}):t._e(),a.hot?s("img",{staticClass:"new-icon",attrs:{src:e("fb67")}}):t._e(),t.sidebar&&a.margin?s("span",{staticClass:"symbolMargin color-cdd1ea"},[t._v(t._s(a.margine_reverage)+"X")]):t._e()]):s("span",{staticClass:"symbol-cont"},[s("span",{staticClass:"optional",class:a.oneChoose?"yesOptional":"noOptional",on:{click:function(e){return e.stopPropagation(),t.getOptional(a,i,o)}}}),s("span",{staticClass:"symbolCode"},[s("i",{staticClass:"symbolCodeBlock"},[t._v(t._s(a.baseAsset))]),t._v("/"+t._s(a.quoteAsset?a.quoteAsset:"")+" ")]),a.latest?s("img",{staticClass:"new-icon",attrs:{src:e("d6cb")}}):t._e(),a.hot?s("img",{staticClass:"new-icon",attrs:{src:e("fb67")}}):t._e(),t.sidebar&&a.margin?s("span",{staticClass:"symbolMargin color-cdd1ea"},[t._v(t._s(a.margine_reverage)+"X")]):t._e()])]),t.sidebar?t._e():s("span",{staticClass:"account text-left"},[s("span",{staticClass:"symbol-cont"},[s("span",{staticClass:"symbolCode"},[s("i",{staticClass:"symbolCodeBlock"},[t._v(t._s(a.baseAsset))])])])]),t.sidebar?[s("span",{staticClass:"nowPrice color-cdd1ea"},[t._v(" "+t._s(parseFloat(a.n).toLocaleString(void 0,{maximumFractionDigits:4})||"---")+" ")]),s("span",{staticClass:"change-percent color-cdd1ea"},[t._v(t._s(a.p?a.p:"---"))])]:[t.sidebar?s("span",{staticClass:"nowPrice color-cdd1ea text-left"},[t._v(" "+t._s(parseFloat(a.n).toLocaleString(void 0,{maximumFractionDigits:4})||"---")+" ")]):t._e(),!t.sidebar&&a.n&&a.nl?s("span",{staticClass:"nowPrice padding-left40 black text-left"},[t._v(" "+t._s(a.nl.substr(0,1)+parseFloat(a.nl.substr(1)).toLocaleString(void 0,{maximumFractionDigits:4}))+" ")]):t.sidebar?t._e():s("span",{staticClass:"nowPrice padding-left40 text-left"},[t._v(" --- ")]),t.sidebar?s("span",{staticClass:"change-percent color-cdd1ea"},[t._v(t._s(a.p?parseFloat(a.p).toLocaleString(void 0,{maximumFractionDigits:4}):"---"))]):s("span",{staticClass:"change-percent"},[t._v(t._s(a.p?parseFloat(a.p).toLocaleString(void 0,{maximumFractionDigits:4}):"---"))])],t.sidebar?t._e():s("span",{staticClass:"changeColor"},[t._v(t._s("$"+parseFloat(a.high24).toLocaleString(void 0,{maximumFractionDigits:4})||!1))]),t.sidebar?t._e():s("span",{staticClass:"changeColor"},[t._v(t._s("$"+parseFloat(a.low24).toLocaleString(void 0,{maximumFractionDigits:4})||!1))]),t.sidebar?t._e():s("span",{staticClass:"one-days"},[t._v(" "+t._s(parseFloat(a.amt24).toLocaleString(void 0,{maximumFractionDigits:4})||"---")+" ")])],2):t._e(),a.visible?s("hr",{staticClass:"market-divider"}):t._e()]],2)}))],2)])])})),1)],1)],1)},o=[],n=(e("99af"),e("4de4"),e("c740"),e("4160"),e("c975"),e("a15b"),e("d81d"),e("a434"),e("b0c0"),e("d3b7"),e("498a"),e("159b"),e("5530")),r=e("711d"),l=e("6d1e"),c=e("4b5c"),u=e("563f"),h=e("2ef0"),d=e.n(h),p=e("5880"),m=e("bf8a"),v=e.n(m),g=e("f57e"),b=e.n(g),f=e("5434"),y=e.n(f),k=e("d864"),w=e.n(k),_=e("7a908"),P=e.n(_),D=e("ebd5"),C=e.n(D),S={computed:Object(n["a"])({},Object(p["mapGetters"])(["CH"])),props:{sidebar:{type:Boolean,default:!1},isSideBarOpen:{type:Boolean,default:!0}},data:function(){return{optionals:[],tradePair:[],allowRequests:!0,value:"USDT",activeTab:"USDT",keyword:"",symbolSort:v.a,nowPriceSort:v.a,percentSort:v.a,tradePairGroups:[],tickers:{},tableLoading:!0,favoriteListLoading:!1,mark_symbol:[],sortIndex:0,sortType:"",key:"",isShowIcon:!1,isWebSocket:!1,tradePairStr:"",noOptional:!1,hasOptionalFlag:!1,tab:null,items:[{tab:"One",content:"Tab 1 Content"},{tab:"Two",content:"Tab 2 Content"},{tab:"Three",content:"Tab 3 Content"},{tab:"Four",content:"Tab 4 Content"},{tab:"Five",content:"Tab 5 Content"},{tab:"Six",content:"Tab 6 Content"},{tab:"Seven",content:"Tab 7 Content"},{tab:"Eight",content:"Tab 8 Content"},{tab:"Nine",content:"Tab 9 Content"},{tab:"Ten",content:"Tab 10 Content"}]}},watch:{keyword:function(t){this.updateTickers(this.key,this.sortType),this.keyword?this.isShowIcon=!0:this.isShowIcon=!1},CH:function(){r["a"].updateTradingPairGroups()}},methods:{onWebSocketOpen:function(){this.allowRequests=!1,this.isWebSocket=!0,c["a"].send({op:"sub",topic:"market.quote"})},onWebSocketMessage:function(t){this.isWebSocket=!0,this.allowRequests=!1,t.data&&-1!==t.topic.indexOf(".quote")&&(t.full&&(this.tradePairGroups=[]),this.getNewTickersData(t.data))},onWebSocketClose:function(){this.isWebSocket&&(this.isWebSocket=!1,this.allowRequests=!0,this.loadTickers())},getNewTickersData:function(t){this.tableLoading=!1,t=d.a.forEach(t,(function(t,a){t.amt24=t.amt24?u["a"].toFloat(t.amt24,2):"---"})),d.a.assign(this.tickers,d.a.keyBy(t,"s")),this.updateTickers(this.key,this.sortType)},getGroupLabel:function(t){return t!==this.$t("Favorites")?this.sidebar?t:t+" "+this.$t("Markets"):this.sidebar?"★":"".concat(t)},clearIcon:function(){this.keyword="",this.isShowIcon=!1},changeSearch:function(){this.showSearch=!this.showSearch},getSortIcon:function(t){return t!==this.key?v.a:"asc"===this.sortType?y.a:"desc"===this.sortType?b.a:v.a},getMarketIcon:function(t){return t!==this.key?w.a:"asc"===this.sortType?C.a:"desc"===this.sortType?P.a:w.a},getOptional:function(t,a,e){var s=this;if(this.commonApi.user){var i=d.a.cloneDeep(t);this.$http.post("/user/favorite/toggle",{type:i.oneChoose?2:1,tradePair:t.tradePair}).then((function(i){s._changeOptional(t,a,e)})).catch((function(t){console.warn("Failed to get ticker data: "+t)}))}else this.$emit("showLoginModal",1)},_changeOptional:function(t,a,e){var s=this,i=t.tradePair;if(this.keyword){var o=d.a.cloneDeep(r["a"].tradingPairGroups);o.forEach((function(o,n){d.a.forEach(o.list,(function(o,l){if(i===o.tradePair)if(0===n)r["a"].tradingPairGroups[0].list.splice(l,1),s.tradePairGroups[0].list.splice(l,1);else if(s.$set(r["a"].tradingPairGroups[n].list[l],"oneChoose",!t.oneChoose),!t.oneChoose){var c=s.tradePairGroups[a].list[e].s,u=d.a.findIndex(r["a"].tradingPairGroups[0].list,(function(t){return t.tradePair===c}));r["a"].tradingPairGroups[0].list.splice(u,1),s.tradePairGroups[0].list.splice(u,1),r["a"].updateTradingPairGroups(s.$t("Favorites")).then((function(){s.udpdateSelectedPairData()}))}}))}))}else if(0===a){if(0!==this.tradePairGroups[0].list.length&&(r["a"].tradingPairGroups[0].list.splice(e,1),this.tradePairGroups[0].list.splice(e,1)),!this.isWebSocket){for(var n in this.tradePairStr="",this.tradePairGroups[a].list)this.tradePairStr+=this.tradePairGroups[a].list[n].tradePair+",";this.tradePairStr=this.tradePairStr.substr(0,this.tradePairStr.length-1),0===this.tradePairGroups[0].list.length&&(this.tradePairGroups[0].noOptional=0),this.loadTickers()}this.tradePairGroups.forEach((function(t,a){d.a.forEach(t.list,(function(t,e){i===t.tradePair&&s.$set(r["a"].tradingPairGroups[a].list[e],"oneChoose",!1)}))}))}else if(this.$set(r["a"].tradingPairGroups[a].list[e],"oneChoose",!t.oneChoose),this.tradePairGroups[a].list[e].oneChoose=!t.oneChoose,this.tradePairGroups[a].list[e].oneChoose)r["a"].updateTradingPairGroups(this.$t("Favorites")).then((function(){s.udpdateSelectedPairData()}));else{var l=this.tradePairGroups[a].list[e].s,c=d.a.findIndex(r["a"].tradingPairGroups[0].list,(function(t){return t.tradePair===l}));r["a"].tradingPairGroups[0].list.splice(c,1),this.tradePairGroups[0].list.splice(c,1)}this.isWebSocket&&this.updateTickers(this.key,this.sortType)},sortSidebar:function(t){t!==this.key?(this.key=t,this.sortType="asc"):"asc"===this.sortType?this.sortType="desc":"desc"===this.sortType?this.sortType="":this.sortType="asc",this.updateTickers(this.key,this.sortType)},userOptional:function(){var t=this;this.favoriteListLoading=!0,r["a"].updateTradingPairGroups(this.$t("Favorites")).then((function(a){t.tradePairStr=d.a.map(a[0].list,(function(t){return t.tradePair})).join(",")})).catch((function(t){console.warn("Failed to get ticker data: "+t)})).finally((function(){t.favoriteListLoading=!1,t.udpdateSelectedPairData(),t.isWebSocket||t.loadTickers()}))},udpdateSelectedPairData:function(){this.$store.commit("getTradePairData",{val:this.value,route:this.$route.name})},handleClick:function(t,a){var e=t.name||t;if(s!==e){if(s=e,this.activeTab=e,e===this.$t("Favorites"))if(this.commonApi.user){if(!this.isWebSocket)return void this.userOptional()}else this.$router.push({path:"/login"}).catch((function(){}));else if(!this.isWebSocket)return void this.loadTickers();this.updateTickers(this.key,this.sortType)}},pairSelect:function(t){this.value=t,this.$emit("input",t),"Exchange"===this.$route.name?localStorage.setItem("pairId"+l["a"].site,t):localStorage.setItem("pairId"+l["a"].site+"Margin",t),this.udpdateSelectedPairData(),localStorage.setItem("pairTab"+l["a"].site,this.activeTab);var a="Exchange"===this.$route.name||"Home"===this.$route.name?"/exchange/spot/"+t:"/exchange/margin/"+t;this.$route.fullPath!==a&&this.$router.push({path:a}).catch((function(){}))},color:function(t){return l["a"].getColor(t)},colorIcon:function(t){var a=l["a"].getColor(t);if("black"===a)return"";var e=t>0?"rise":"fall";return e+a},updateTickers:function(t,a){var e=this,s=d.a.cloneDeep(r["a"].tradingPairGroups),i=this.keyword.trim().toLowerCase();if(this.commonApi.user||0===s[0].list.length||r["a"].updateTradingPairGroups(),0===s[0].list.length&&(s[0].noOptional=0),i){for(var o=[],n=s,l=0;l<n.length;l++){for(var c=[],u={},h=0;h<n[l].list.length;h++)-1!=n[l].list[h].tradePair.toLowerCase().indexOf(i)&&(u=n[l].list[h],c.push(u));n[l].list=c}for(l=1;l<n.length;l++)o=o.concat(n[l].list);for(h=0;h<s.length;h++)s[h].list=o}d.a.forEach(s,(function(o,n){var r=0;d.a.forEach(o.list,(function(a,o){var l=e.tickers[a.tradePair];l&&(l.sortId="s"!==t?parseFloat(l[t],10):l[t],d.a.assign(a,l)),i&&-1==="".concat(a.tradePair," ").concat(a.localBaseAsset).toLowerCase().indexOf(i)||(a.visible=!0,++r),s[n].list[o]=a})),a&&t&&(o.list=d.a.orderBy(o.list,"sortId",a)),s[n].visibleCount=r}));var p=s.filter((function(t){return t.list.length>0||t.groupName===e.$t("Favorites")}));this.tradePairGroups=p,this.sidebar&&this.$set(this.tradePairGroups[0],"groupName",this.$t("Favorites"))},loadTickersHandle:function(t){var a=d.a.cloneDeep(t);a=d.a.forEach(a,(function(t,a){t.sortId=a,t.amt24=t.amt24?u["a"].toFloat(t.amt24,2):"---"})),this.allowRequests&&(d.a.assign(this.tickers,d.a.keyBy(a,"s")),this.updateTickers(this.key,this.sortType))},loadTickers:function(){function t(a){var e=this,s=null;a!==this.$t("Favorites")?s=this.$http.get("/market/site/tradepair/group/quote",{params:{group:a,sortField:this.key,sortType:this.sortType}}):this.tradePairStr&&(s=this.$http.get("/market/site/tradepair/multi/quote",{params:{tradePair:this.tradePairStr,sortField:this.key,sortType:this.sortType}})),s&&s.then((function(t){e.loadTickersHandle(t.data.data)})).catch((function(t){console.warn("Failed to get ticker data: "+t)})).finally((function(){a===e.activeTab&&e.allowRequests&&setTimeout(t.bind(e,e.activeTab),1250),e.tableLoading=!1}))}t.bind(this)(this.activeTab)},renderTab:function(t,a){return t("span",["".concat(a.name," "),t("i",{class:["fa","fa-fw","fa-".concat(a.icon)]})])},backgroundImage:function(t){return{backgroundImage:"url("+this.commonApi._imgHost+t+")",backgroundSize:"18px 18px",backgroundRepeat:"no-repeat"}}},mounted:function(){var t=this;c["a"].register(this,(function(a,e){a&&console.error(a),t.isWebSocket=e})),this.value=this.$route.params.pairId||("Exchange"===this.$route.name?localStorage.getItem("pairId"+l["a"].site):localStorage.getItem("pairId"+l["a"].site+"Margin"))||"BTCUSDT",this.udpdateSelectedPairData(),r["a"].updateTradingPairGroups(this.$t("Favorites")).then((function(){t.updateTickers(t.key,t.sortType),t.udpdateSelectedPairData()})),this.activeTab=localStorage.getItem("pairTab"+l["a"].site)||"USDT"},beforeDestroy:function(){c["a"].unregister(this),this.allowRequests=!1}},A=S,T=(e("9e8e"),e("e4bb"),e("2877")),I=e("6544"),$=e.n(I),B=e("b0af"),x=e("71a3"),M=e("c671"),N=e("fe57"),F=e("aac8"),O=Object(T["a"])(A,i,o,!1,null,"5e3b9db7",null);a["a"]=O.exports;$()(O,{VCard:B["a"],VTab:x["a"],VTabItem:M["a"],VTabs:N["a"],VTabsItems:F["a"]})},cf3a:function(t,a,e){"use strict";var s=e("5c8f"),i=e.n(s);i.a},d098:function(t,a,e){},d237:function(t,a,e){"use strict";var s=e("2172"),i=e.n(s);i.a},d265:function(t,a,e){"use strict";var s=e("5093"),i=e.n(s);i.a},da13:function(t,a,e){"use strict";var s=e("5530"),i=(e("61d2"),e("a9ad")),o=e("1c87"),n=e("4e82"),r=e("7560"),l=e("f2e7"),c=e("5607"),u=e("80d2"),h=e("d9bd"),d=e("58df"),p=Object(d["a"])(i["a"],o["a"],r["a"],Object(n["a"])("listItemGroup"),Object(l["b"])("inputValue"));a["a"]=p.extend().extend({name:"v-list-item",directives:{Ripple:c["a"]},inheritAttrs:!1,inject:{isInGroup:{default:!1},isInList:{default:!1},isInMenu:{default:!1},isInNav:{default:!1}},props:{activeClass:{type:String,default:function(){return this.listItemGroup?this.listItemGroup.activeClass:""}},dense:Boolean,inactive:Boolean,link:Boolean,selectable:{type:Boolean},tag:{type:String,default:"div"},threeLine:Boolean,twoLine:Boolean,value:null},data:function(){return{proxyClass:"v-list-item--active"}},computed:{classes:function(){return Object(s["a"])({"v-list-item":!0},o["a"].options.computed.classes.call(this),{"v-list-item--dense":this.dense,"v-list-item--disabled":this.disabled,"v-list-item--link":this.isClickable&&!this.inactive,"v-list-item--selectable":this.selectable,"v-list-item--three-line":this.threeLine,"v-list-item--two-line":this.twoLine},this.themeClasses)},isClickable:function(){return Boolean(o["a"].options.computed.isClickable.call(this)||this.listItemGroup)}},created:function(){this.$attrs.hasOwnProperty("avatar")&&Object(h["e"])("avatar",this)},methods:{click:function(t){t.detail&&this.$el.blur(),this.$emit("click",t),this.to||this.toggle()},genAttrs:function(){var t=Object(s["a"])({"aria-disabled":!!this.disabled||void 0,tabindex:this.isClickable&&!this.disabled?0:-1},this.$attrs);return this.$attrs.hasOwnProperty("role")||this.isInNav||(this.isInGroup?(t.role="listitem",t["aria-selected"]=String(this.isActive)):this.isInMenu?(t.role=this.isClickable?"menuitem":void 0,t.id=t.id||"list-item-".concat(this._uid)):this.isInList&&(t.role="listitem")),t}},render:function(t){var a=this,e=this.generateRouteLink(),i=e.tag,o=e.data;o.attrs=Object(s["a"])({},o.attrs,{},this.genAttrs()),o[this.to?"nativeOn":"on"]=Object(s["a"])({},o[this.to?"nativeOn":"on"],{keydown:function(t){t.keyCode===u["j"].enter&&a.click(t),a.$emit("keydown",t)}}),this.inactive&&(i="div"),this.inactive&&this.to&&(o.on=o.nativeOn,delete o.nativeOn);var n=this.$scopedSlots.default?this.$scopedSlots.default({active:this.isActive,toggle:this.toggle}):this.$slots.default;return t(i,this.setTextColor(this.color,o),n)}})},da98:function(t,a,e){"use strict";var s=e("c273"),i=e.n(s);i.a},db42:function(t,a,e){},dc86:function(t,a,e){},dd30:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("Vodal",{attrs:{width:460,height:580,show:t.isRepay,animation:"rotate"},on:{hide:function(a){return t.close(!1,!1,!1)},clearVodal:t.clearVodal}},[e("header",{staticClass:"vodal-title"},[t._v(t._s(t.$t("el.home.margin.repay")))]),e("form",[e("v-container",[t.loading?e("div",{staticClass:"loaDing"},[e("div",{staticClass:"loader"},[e("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[e("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none","stroke-width":"2","stroke-miterlimit":"10"}})])])]):t._e(),e("v-row",[e("v-col",{attrs:{cols:"12",md:"12"}},[e("label",{staticClass:"label",attrs:{for:"email"}},[t._v(t._s(t.$t("el.home.margin.transfer.Currency")))]),e("p",[e("el-select",{attrs:{placeholder:t.$t("el.home.margin.transfer.Token.Select")},model:{value:t.tokenVal,callback:function(a){t.tokenVal=a},expression:"tokenVal"}},t._l(t.tokens,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)])],1),e("v-row",[e("v-col",{staticClass:"label",attrs:{cols:"6",md:"6"}},[e("span",[t._v(t._s(t.$t("el.home.margin.repayborrowed")))])]),e("v-col",{staticClass:"val",attrs:{cols:"6",md:"6"}},[e("span",[t._v(t._s(t.repayBorrowed))])])],1),e("v-row",[e("v-col",{staticClass:"label",attrs:{cols:"6",md:"6"}},[e("span",[t._v(t._s(t.$t("el.home.margin.repayinterested")))])]),e("v-col",{staticClass:"val",attrs:{cols:"6",md:"6"}},[e("span",[t._v(t._s(t.repayInterested))])])],1),e("v-row",[e("v-col",{staticClass:"label",attrs:{cols:"6",md:"6"}},[e("span",[t._v(t._s(t.$t("el.home.margin.repaytotaldebt")))])]),e("v-col",{staticClass:"val",attrs:{cols:"6",md:"6"}},[e("span",[t._v(t._s(t.repayTotalDebt))])])],1),e("v-row",[e("v-col",{attrs:{cols:"12",md:"12"}},[e("label",{staticClass:"label",attrs:{for:"email"}},[t._v(t._s(t.$t("Amount")))]),e("p",[e("el-input",{attrs:{placeholder:"Margin Amount"},model:{value:t.amount,callback:function(a){t.amount=a},expression:"amount"}})],1)])],1),e("v-row",[e("v-col",{attrs:{cols:"6",md:"6"}},[e("span",{staticClass:"label"},[t._v(t._s(t.$t("el.home.margin.transfer.Available")))]),e("span",{staticClass:"val"},[t._v(" "+t._s(t.transferAvailable))])]),e("v-col",{attrs:{cols:"6",md:"6"}},[e("v-btn",{attrs:{color:"primary",dark:"",text:"",outlined:"",small:""},on:{click:t.repayAll}},[t._v(" "+t._s(t.$t("el.home.margin.transfer.RepayAll"))+" ")])],1)],1),e("v-row",[e("v-col",{attrs:{cols:"6",md:"6"}}),e("v-col",{attrs:{cols:"6",md:"6"}},[e("v-btn",{attrs:{color:"primary",dark:"",large:"",tile:""},on:{click:t.repay}},[t._v(" "+t._s(t.$t("el.home.margin.transfer.Confirm"))+" ")])],1)],1)],1)],1)])},i=[],o=(e("4160"),e("b0c0"),e("159b"),e("5530")),n=e("efe3"),r=e("2ef0"),l=e.n(r),c=e("711d"),u=e("5880"),h={computed:Object(o["a"])({},Object(u["mapGetters"])(["market","nowPairData"])),data:function(){return{tokens:[{value:"BTC",label:"BTC"}],tradingPairVal:"",tokenVal:"",amount:"",transferAvailable:"0.00",repayBorrowed:"0.00",repayInterested:"0.00",pairId:"",loading:!1,repayTotalDebt:"0.00"}},watch:{market:function(){this.init()},tokenVal:function(){var t=this;""!==this.tokenVal&&(this.loading=!0,this.$http.post("/margin/repay/single",{tradePairName:this.pairId,asset:this.tokenVal}).then((function(a){t.loading=!1,t.repayBorrowed=Math.floor(parseFloat(a.data.data.borrowed)*Math.pow(10,t.nowPairData.localData.volumePrecision))/Math.pow(10,t.nowPairData.localData.volumePrecision),t.repayInterested=Math.floor(parseFloat(a.data.data.interest)*Math.pow(10,t.nowPairData.localData.volumePrecision))/Math.pow(10,t.nowPairData.localData.volumePrecision),t.repayTotalDebt=Math.floor(parseFloat(1*a.data.data.borrowed+1*a.data.data.interest)*Math.pow(10,t.nowPairData.localData.volumePrecision))/Math.pow(10,t.nowPairData.localData.volumePrecision),t.transferAvailable=Math.floor(parseFloat(a.data.data.available)*Math.pow(10,t.nowPairData.localData.volumePrecision))/Math.pow(10,t.nowPairData.localData.volumePrecision)})).catch((function(a){console.warn(a+""),t.loading=!1})))}},props:{isRepay:{type:Boolean,default:!1},path:{type:String},CH:{type:Boolean}},components:{Vodal:n["a"]},methods:{close:function(t,a,e){this.$emit("showModal",{isTransfer:t,isBorrow:a,isRepay:e})},init:function(){var t=this,a=this;this.tokenVal="",this.repayBorrowed="0.00",this.repayinterested="0.00",this.repayTotalDebt="0.00",this.amount="0.00",this.pairId=this.$route.params.pairId||("Exchange"===this.$route.name?localStorage.getItem("pairId"+this.commonApi.site):localStorage.getItem("pairId"+this.commonApi.site+"Margin"))||this.market;var e=l.a.cloneDeep(c["a"].tradingPairGroups);e.forEach((function(e,s){l.a.forEach(e.list,(function(e,s){a.pairId===e.tradePair&&(a.baseAsset=e.baseAsset,a.quoteAsset=e.quoteAsset,a.tokens=[{value:t.baseAsset,label:t.baseAsset},{value:t.quoteAsset,label:t.quoteAsset}])}))}))},repayAll:function(){this.amount=this.transferAvailable},repay:function(){var t=this;""!==this.tokenVal&&void 0!==this.tokenVal?""===this.amount||void 0===this.amount||1*this.amount<=0?Vue.notify({group:"notification",type:"warn",text:this.$t("el.home.margin.marginTransfer.inputAmount")}):(this.loading=!0,this.$http.post("/margin/borrow/repay",{asset:this.tokenVal,quantity:this.amount,tradePairName:this.pairId}).then((function(a){t.loading=!1,t.close(!1,!1,!1),t.$emit("loadMargin",!0),t.$emit("getMarginBalance",!0),200==a.data.code&&Vue.notify({group:"notification",type:"success",text:t.$t("Repay success")})})).catch((function(a){t.loading=!1,t.close(!1,!1,!1),t.$emit("loadMargin",!0),t.$emit("getMarginBalance",!0),Vue.notify({group:"notification",type:"error",text:a})}))):Vue.notify({group:"notification",type:"warn",text:this.$t("el.home.margin.marginTransfer.selectCurrency")})},clearVodal:function(){this.init()}}},d=h,p=(e("7c01"),e("da98"),e("2877")),m=e("6544"),v=e.n(m),g=e("8336"),b=e("62ad"),f=e("a523"),y=e("0fd9"),k=Object(p["a"])(d,s,i,!1,null,"88c72452",null);a["a"]=k.exports;v()(k,{VBtn:g["a"],VCol:b["a"],VContainer:f["a"],VRow:y["a"]})},de4a:function(t,a,e){"use strict";var s=e("0142"),i=e.n(s);i.a},df1d:function(t,a,e){"use strict";var s=e("dc86"),i=e.n(s);i.a},e15b:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("Vodal",{attrs:{width:460,height:620,show:t.isBorrow,animation:"rotate"},on:{hide:function(a){return t.close(!1,!1,!1)},clearVodal:t.clearVodal}},[e("header",{staticClass:"vodal-title"},[t._v(t._s(t.$t("el.home.margin.borrow")))]),e("form",[t.loading?e("div",{staticClass:"loaDing"},[e("div",{staticClass:"loader"},[e("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[e("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none","stroke-width":"2","stroke-miterlimit":"10"}})])])]):t._e(),e("v-container",[e("v-row",[e("v-col",{attrs:{cols:"12",md:"12"}},[e("label",{staticClass:"label",attrs:{for:"email"}},[t._v(t._s(t.$t("el.home.margin.transfer.Currency")))]),e("p",[t.isFromBalanace?e("el-input",{attrs:{placeholder:"",disabled:""},model:{value:t.tokenVal,callback:function(a){t.tokenVal=a},expression:"tokenVal"}}):e("el-select",{attrs:{placeholder:t.$t("el.home.margin.transfer.Token.Select")},model:{value:t.tokenVal,callback:function(a){t.tokenVal=a},expression:"tokenVal"}},t._l(t.tokens,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)])],1),e("v-row",[e("v-col",{staticClass:"label",attrs:{cols:"6",md:"6"}},[e("span",[t._v(t._s(t.$t("el.home.margin.borrow.hourlyRate")))])]),e("v-col",{staticClass:"val",attrs:{cols:"6",md:"6"}},[e("span",[t._v(t._s(t.borrowHourlyRate))])])],1),e("v-row",[e("v-col",{staticClass:"label",attrs:{cols:"6",md:"6"}},[e("span",[t._v(t._s(t.$t("el.home.margin.borrow.mybalance")))])]),e("v-col",{staticClass:"val",attrs:{cols:"6",md:"6"}},[e("span",[t._v(t._s(t.myBalance))])])],1),e("v-row",[e("v-col",{staticClass:"label",attrs:{cols:"6",md:"6"}},[e("span",[t._v(t._s(t.$t("el.home.margin.borrow.finished")))])]),e("v-col",{staticClass:"val",attrs:{cols:"6",md:"6"}},[e("span",[t._v(t._s(t.borrowFinished))])])],1),e("v-row",[e("v-col",[e("label",{staticClass:"label",attrs:{for:"email"}},[t._v(t._s(t.$t("el.home.margin.borrow.Leverage")))]),e("el-slider",{attrs:{min:2,max:t.leverage,marks:t.marks,step:.01,"show-input":""},model:{value:t.borrowslider,callback:function(a){t.borrowslider=a},expression:"borrowslider"}})],1)],1),e("v-row",[e("v-col",{attrs:{cols:"12",md:"12"}},[e("label",{staticClass:"label",attrs:{for:"email"}},[t._v(t._s(t.$t("Amount")))]),e("el-input",{attrs:{placeholder:t.$t("Amount"),type:"number"},model:{value:t.amount,callback:function(a){t.amount=a},expression:"amount"}})],1)],1),e("v-row",[e("v-col",{attrs:{cols:"6",md:"6"}},[e("span",{staticClass:"label"},[t._v(t._s(t.$t("el.home.margin.borrow.available")))]),e("span",{staticClass:"val"},[t._v(" "+t._s(t.borrowAvaliable))])]),e("v-col",{attrs:{cols:"6",md:"6"}},[e("v-btn",{attrs:{color:"primary",dark:"",text:"",outlined:"",small:""},on:{click:t.borrowAll}},[t._v(" "+t._s(t.$t("el.home.margin.borrow.All"))+" ")])],1)],1),e("v-row",[e("v-col",{attrs:{cols:"6",md:"6"}}),e("v-col",{attrs:{cols:"6",md:"6"}},[e("v-btn",{attrs:{color:"primary",dark:"",large:"",tile:""},on:{click:t.borrow}},[t._v(" "+t._s(t.$t("el.home.margin.transfer.Confirm"))+" ")])],1)],1)],1)],1)])},i=[],o=(e("4160"),e("b0c0"),e("ac1f"),e("1276"),e("159b"),e("5530")),n=e("efe3"),r=e("2ef0"),l=e.n(r),c=e("711d"),u=e("5880"),h={computed:Object(o["a"])({},Object(u["mapGetters"])(["market","nowPairData"])),data:function(){return{tokens:[{value:"BTC",label:"BTC"}],tradingPairVal:"",tokenVal:"",amount:"",borrowHourlyRate:"0.00",borrowFinished:"0.00",borrowAvaliable:"0.00",borrowslider:2,pairId:"",loading:!1,myBalance:"",marks:{},step:1,leverage:2}},props:{isBorrow:{type:Boolean,default:!1},path:{type:String},CH:{type:Boolean},isFromBalanace:{type:Boolean,default:!1}},components:{Vodal:n["a"]},watch:{market:function(){this.init()},tokenVal:function(){var t=this;this.loading=!0,this.$http.post("/margin/borrow/getLimit",{tradePairName:this.pairId,asset:this.tokenVal}).then((function(a){if(t.loading=!1,200==a.data.code){t.borrowHourlyRate=a.data.data.interestRate,t.borrowFinished=a.data.data.borrowed;var e=(a.data.data.maxBorrow+"").split("."),s=e[1]?e[1].length:0;s>t.nowPairData.localData.volumePrecision?t.borrowAvaliable=e[0]+"."+e[1].substring(0,t.nowPairData.localData.volumePrecision):t.borrowAvaliable=a.data.data.maxBorrow,e=(a.data.data.myAccount+"").split("."),s=e[1]?e[1].length:0,s>t.nowPairData.localData.volumePrecision?t.myBalance=e[0]+"."+e[1].substring(0,t.nowPairData.localData.volumePrecision):t.myBalance=a.data.data.myAccount,t.borrowslider=0}})).catch((function(a){t.loading=!1,console.log(a)}))},borrowslider:function(){if(10==this.borrowslider)this.amount=this.borrowAvaliable;else{var t=this.borrowAvaliable/9;this.amount=Math.floor(t*(this.borrowslider-1)*Math.pow(10,this.nowPairData.localData.volumePrecision))/Math.pow(10,this.nowPairData.localData.volumePrecision)}},amount:function(){this.amount,this.myBalance,this.borrowFinished,this.leverage},isBorrow:function(t){}},methods:{close:function(t,a,e){this.$emit("showModal",{isTransfer:t,isBorrow:a,isRepay:e})},init:function(){var t=this,a=this;this.tokenVal="",this.amount="0.00",this.borrowAvaliable="0.00",this.myBalance="0.00",this.borrowHourlyRate="0.00",this.borrowFinished="0.00",this.pairId=this.$route.params.pairId||("Exchange"===this.$route.name?localStorage.getItem("pairId"+this.commonApi.site):localStorage.getItem("pairId"+this.commonApi.site+"Margin"))||this.market;var e=l.a.cloneDeep(c["a"].tradingPairGroups);e.forEach((function(e,s){l.a.forEach(e.list,(function(e,s){a.pairId===e.tradePair&&(a.baseAsset=e.baseAsset,a.quoteAsset=e.quoteAsset,a.tokens=[{value:t.baseAsset,label:t.baseAsset},{value:t.quoteAsset,label:t.quoteAsset}],a.borrowslider=2)}))}))},changeAmount:function(){this.borrowslider=this.amount/this.myBalance+1},borrowAll:function(){this.amount=this.borrowAvaliable},clearVodal:function(){this.calcLev(),this.init()},borrow:function(){var t=this;""!==this.tokenVal&&void 0!==this.tokenVal?""!==this.amount&&void 0!==this.amount?(this.loading=!0,this.$http.post("/margin/borrow/done",{asset:this.tokenVal,quantity:this.amount,tradePairName:this.pairId}).then((function(a){t.loading=!1,t.close(!1,!1,!1),t.$emit("loadMargin",!0),t.$emit("getMarginBalance",!0),200==a.data.code&&Vue.notify({group:"notification",type:"success",text:t.$t("Borrow success")})})).catch((function(a){t.loading=!1,t.close(!1,!1,!1),t.$emit("loadMargin",!0),t.$emit("getMarginBalance",!0),Vue.notify({group:"notification",type:"error",text:a})}))):Vue.notify({group:"notification",type:"warn",text:this.$t("el.home.margin.marginTransfer.inputAmount")}):Vue.notify({group:"notification",type:"warn",text:this.$t("el.home.margin.marginTransfer.selectCurrency")})},calcLev:function(){this.marks={},this.marks[2]="2X",localStorage.getItem("pairMarginLeverage"+this.commonApi.site)<2?this.leverage=10:this.leverage=localStorage.getItem("pairMarginLeverage"+this.commonApi.site),this.step=(this.leverage-2)/4;for(var t=1;t<=4;t++){var a=2+(this.leverage-2)/4*t;this.marks[a]=a+"X"}}},beforeMount:function(){this.calcLev()},mounted:function(){this.init()}},d=h,p=(e("df1d"),e("a61d"),e("2877")),m=e("6544"),v=e.n(m),g=e("8336"),b=e("62ad"),f=e("a523"),y=e("0fd9"),k=Object(p["a"])(d,s,i,!1,null,"3a0477c4",null);a["a"]=k.exports;v()(k,{VBtn:g["a"],VCol:b["a"],VContainer:f["a"],VRow:y["a"]})},e4bb:function(t,a,e){"use strict";var s=e("1050"),i=e.n(s);i.a},f0a2:function(t,a,e){},fae2:function(t,a,e){},fcdd:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"kLineChartContent"}},[e("div",{staticClass:"kLineChart"},[e("div",{attrs:{id:"tv_chart_container"}}),t._e()])])},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"loadEffect"},[e("div",[e("span")]),e("div",[e("span")]),e("div",[e("span")]),e("div",[e("span")]),e("div",[e("span")]),e("div",[e("span")])])}],o=(e("7db0"),e("b0c0"),e("ac1f"),e("1276"),e("2ca0"),e("5530")),n=e("395c"),r=e.n(n),l=e("4b5c"),c=(e("d3b7"),e("d4ec")),u=e("bee2"),h=(e("25f0"),function(){function t(a){Object(c["a"])(this,t),this.subscribers={},this.requestsPending=0,this.historyProvider=a}return Object(u["a"])(t,[{key:"subscribeBars",value:function(t,a,e,s){this.subscribers[s]={lastBarTime:null,listener:e,resolution:a,symbolInfo:t}}},{key:"unsubscribeBars",value:function(t){delete this.subscribers[t]}},{key:"updateData",value:function(){var t=this;if(!this.requestsPending)for(var a in this.requestsPending=0,this.subscribers)this.requestsPending++,this.updateDataForSubscriber(a).then((function(){return t.requestsPending--})).catch((function(){return t.requestsPending--}))}},{key:"updateDataForSubscriber",value:function(t){var a=this;return new Promise((function(e,s){var i=a.subscribers[t],o=parseInt((Date.now()/1e3).toString()),n=o-a.periodLengthSeconds(i.resolution,10);a.historyProvider.getBars(i.symbolInfo,i.resolution,n,o,(function(s){a.onSubscriberDataReceived(t,s),e()}),(function(){s()}))}))}},{key:"onSubscriberDataReceived",value:function(t,a){if(this.subscribers.hasOwnProperty(t)&&a.length){var e=a[a.length-1],s=this.subscribers[t];if(!(null!==s.lastBarTime&&e.time<s.lastBarTime)){var i=null!==s.lastBarTime&&e.time>s.lastBarTime;if(i){if(a.length<2)throw new Error("Not enough bars in history for proper pulse update. Need at least 2.");var o=a[a.length-2];s.listener(o)}s.lastBarTime=e.time,s.listener(e)}}}},{key:"periodLengthSeconds",value:function(t,a){var e=0;return e="D"===t||"1D"===t?a:"M"===t||"1M"===t?31*a:"W"===t||"1W"===t?7*a:a*parseInt(t)/1440,24*e*60*60}}]),t}()),d=h,p=function(){function t(a){Object(c["a"])(this,t),this.self=a,this.barsUpdater=new d(this)}return Object(u["a"])(t,[{key:"onReady",value:function(t){var a=this;return new Promise((function(t,e){var s=a.defaultConfiguration();a.self.getConfig&&(s=Object.assign(a.defaultConfiguration(),a.self.getConfig())),t(s)})).then((function(a){return t(a)}))}},{key:"resolveSymbol",value:function(t,a,e){return new Promise((function(a,e){var s=Math.pow(10,window.marketService.getTradePair(t).pricePrecision),i={symbol:t,has_daily:!0,ticker:t,has_weekly_and_monthly:!0,has_intraday:!0,session:"24x7",timezone:"Asia/Hong_Kong",description:t,supported_resolutions:["1","3","5","15","30","60","120","240","360","720","1D","1W","1M"],type:"1",intraday_multipliers:["1","3","5","15","30","60","120","240","360","720","1D","1W","1M"],has_fractional_volume:!1,"exchange-listed":t,full_name:"",has_empty_bars:!1,"exchange-traded":t,minmove2:0,name:t,minmov:1,exchange:"jmex.com",pricescale:s,force_session_rebuild:!1,has_no_volume:!1};a(i)})).then((function(t){return a(t)})).catch((function(t){return e(t)}))}},{key:"getBars",value:function(t,a,e,s,i,o){var n=function(t){t&&t.length?i(t,{noData:!1}):i([],{noData:!0})};this.self.getBars(t,a,e,s,n)}},{key:"subscribeBars",value:function(t,a,e,s,i){this.barsUpdater.subscribeBars(t,a,e,s,i)}},{key:"unsubscribeBars",value:function(t){this.barsUpdater.unsubscribeBars(t)}},{key:"defaultConfiguration",value:function(){return{supports_search:!0,supports_group_request:!1,supported_resolutions:["1","5","15","30","60","1D","2D","3D","1W","1M"],supports_marks:!0,supports_timescale_marks:!0,supports_time:!0}}},{key:"defaultSymbol",value:function(){return{name:"BTCUSDT",timezone:"Asia/Shanghai",minmov:1,minmov2:0,pointvalue:1,fractional:!1,session:"24x7",has_intraday:!0,has_no_volume:!1,description:"BTCUSDT",pricescale:100,ticker:"BTCUSDT",supported_resolutions:["1","5","15","30","60","1D","2D","3D","1W","1M"]}}}]),t}(),m=p,v=e("5880"),g={props:["theme"],computed:Object(o["a"])({},Object(v["mapGetters"])(["CH","market"])),data:function(){return{datafeed:new m(this),bars:[],getBarTimer:null,chatStartDate:"",chatEndDate:"",begin:0,isActive:3,targetId:0,widget:null,getTradingView:null,interval:"1D",loading:!0,pairId:1,hasMACD:!1,MACDId:null,hasRSI:!1,RSIId:null,hasKD:!1,KDId:null,isTime:!1,isWebSocket:!0,allowRequests:!0}},watch:{CH:function(){this.remove(),this.loading=!0,this.getTradingView()},market:function(){if(this.pairId!==this.market){var t=this.pairId;this.pairId=this.market,this.widget&&(this.setSymbolType(),this.setInterval(),this.sendWebsocketInterval(t,this.interval))}},theme:function(){this.theme?(this.widget&&this.widget.addCustomCSSFile("https://rawcdn.githack.com/wanghui2020/tradingview/a6deeb99b448cac5c6988bacd27abf12e1b3cf9b/static/darkChart.css"),this.widget&&this.widget.applyOverrides({"paneProperties.background":"#02192d"}),this.widget&&this.widget.applyOverrides({"paneProperties.vertGridProperties.color":"#2B323F"}),this.widget&&this.widget.applyOverrides({"paneProperties.horzGridProperties.color":"#2B323F"})):(this.widget&&this.widget.addCustomCSSFile("https://rawcdn.githack.com/wanghui2020/tradingview/a6deeb99b448cac5c6988bacd27abf12e1b3cf9b/static/lightChart.css"),this.widget&&this.widget.applyOverrides({"paneProperties.background":"#ffffff"}),this.widget&&this.widget.applyOverrides({"paneProperties.vertGridProperties.color":"#dddddd"}),this.widget&&this.widget.applyOverrides({"paneProperties.horzGridProperties.color":"#dddddd"}))}},methods:{iframeClickFun:function(){var t=this;$("iframe").on("load",(function(){t.widget&&("dark"==localStorage.getItem("theme")?t.widget.addCustomCSSFile("https://rawcdn.githack.com/wanghui2020/tradingview/a6deeb99b448cac5c6988bacd27abf12e1b3cf9b/static/darkChart.css"):t.widget.addCustomCSSFile("https://rawcdn.githack.com/wanghui2020/tradingview/a6deeb99b448cac5c6988bacd27abf12e1b3cf9b/static/lightChart.css"));var a=$("iframe").contents();a.find(".interval-single").eq(t.isActive).addClass("interval-active").siblings().removeClass("interval-active"),a.find(".interval-single").eq(t.isActive).find("p").text(a.find(".interval-single").eq(t.isActive).find("li").eq(t.targetId).text()),a.find(".interval-single").click((function(e){var s=e||window.event,i=t.stargetInterval(s);a.find(".interval-single").eq(i).addClass("interval-active").siblings().removeClass("interval-active"),a.find(e.target).siblings().removeClass("chosen"),a.find(e.target).hasClass(".interval-single-select")||(a.find(s.target).siblings(".interval-single-select:eq(0)").find("p").text(a.find(s.target).siblings(".interval-single-select:eq(0)").find(".choose-text").text()),a.find(s.target).siblings(".interval-single-select:eq(1)").find("p").text(a.find(s.target).siblings(".interval-single-select:eq(1)").find(".choose-text").text()))})),a.find(".interval-single-select").click((function(t){var e=t||window.event;a.find(e.target).parent().hasClass("chosen")?a.find(e.target).parent().removeClass("chosen"):(a.find(e.target).parent().addClass("chosen"),a.find(e.target).parent().siblings().removeClass("chosen"))})),a.find(".choose-item").click((function(e){var s=e||window.event,i=t.stargetInterval(s);a.find(".interval-single").eq(i).addClass("interval-active").siblings().removeClass("interval-active"),a.find(".interval-single-select").removeClass("chosen"),a.find(s.target).parent().parent().find("p").text(a.find(s.target).text()),a.find(s.target).parent().parent().siblings(".interval-single-select").find("p").text(a.find(s.target).parent().parent().siblings().find(".choose-text").text())}))}))},stargetInterval:function(t){var a,e=t||window.event,s=e.target.innerHTML,i=this.interval;switch(s){case"Time":a=0,this.interval="1",this.widget.chart().setChartType(2);break;case"1m":case"3m":case"5m":case"15m":case"30m":switch(a=1,this.widget.chart().setChartType(1),s){case"1m":this.interval="1";break;case"3m":this.interval="3";break;case"5m":this.interval="5";break;case"15m":this.interval="15";break;case"30m":this.interval="30";break}break;case"1H":case"2H":case"4H":case"6H":case"12H":switch(a=2,this.widget.chart().setChartType(1),s){case"1H":this.interval="60";break;case"2H":this.interval="120";break;case"4H":this.interval="240";break;case"6H":this.interval="360";break;case"12H":this.interval="720";break}break;case"1D":a=3,this.widget.chart().setChartType(1),this.interval="1D";break;case"1W":a=4,this.widget.chart().setChartType(1),this.interval="1W";break;case"1M":this.widget.chart().setChartType(1),a=5,this.interval="1M";break}return i!=this.interval&&this.sendWebsocketInterval(this.pairId,i),this.setInterval(),a},onWebSocketOpen:function(){this.allowRequests=!1,this.isWebSocket=!0,localStorage.interval&&(this.interval=localStorage.interval),this.sendWebsocketInterval(this.pairId,this.interval)},onWebSocketMessage:function(t){if(this.isWebSocket=!0,this.allowRequests=!1,null!=t&&t.Topic=="market.kline."+this.pairId+"."+("1D"==this.interval?"D":"1W"==this.interval?"W":"1M"==this.interval?"M":this.interval)){var a={};try{a=t.Data?t.Data:{t:[],o:[],h:[],l:[],c:[],v:[],s:"no_data"}}catch(u){return}var e="no_data"==a.s;if("ok"!=a.s&&!e)return;for(var s=e?0:a.t.length,i="undefined"!=typeof a.v,o="undefined"!=typeof a.o,n=0;n<s;++n){var r=!0;for(var l in this.bars)if(this.bars[l].time==1e3*a.t[n]){r=!1;break}if(r){var c={time:1e3*a.t[n],close:a.c[n]};o?(c.open=a.o[n],c.high=a.h[n],c.low=a.l[n]):c.open=c.high=c.low=c.close,i&&(c.volume=a.v[n]),this.bars.push(c)}if(n==s-1){c={time:1e3*a.t[n],close:a.c[n]};o?(c.open=a.o[n],c.high=a.h[n],c.low=a.l[n]):c.open=c.high=c.low=c.close,i&&(c.volume=a.v[n]),this.bars[this.bars.length-1]=c}}this.datafeed.barsUpdater.updateData()}},onWebSocketClose:function(){this.isWebSocket&&(this.isWebSocket=!1,this.allowRequests=!0)},refreshBars:function(){this.bars=[],this.datafeed.barsUpdater.updateData()},sendWebsocketInterval:function(t,a){if(this.isWebSocket){l["a"].send({op:"unsub",topic:"market.kline."+t,rid:"1D"==a?"D":"1W"==a?"W":"1M"==a?"M":a});var e=new Date;this.refreshBars(),l["a"].send({op:"sub",topic:"market.kline."+this.pairId,rid:("1D"==this.interval?"D":"1W"==this.interval?"W":"1M"==this.interval?"M":this.interval)+","+(0-e.getTimezoneOffset())/60})}},getBars:function(t,a,e,s,i){if(this.chatStartDate=e,this.chatEndDate=s,this.bars&&this.bars.length){this.isLoading=!1;i(this.bars)}else{var o=this;this.getBarTimer=setTimeout((function(){o.getBars(t,a,e,s,i)}),10)}}},beforeMount:function(){this.begin=Date.now(),this.pairId=this.$route.params.pairId||("Exchange"===this.$route.name?localStorage.getItem("pairId"+this.commonApi.site):localStorage.getItem("pairId"+this.commonApi.site+"Margin"))||this.market},mounted:function(){var t=this;l["a"].register(this,(function(a,e){a&&console.error(a),t.isWebSocket=e})),r.a.load("../../../../../static/charting_library/charting_library.min.js").then((function(){var a=window.location.host;if(a.startsWith("staging.")||a.startsWith("mobilecoinabcbene.")||a.startsWith("pro.")?window.location.protocol+"//a."+a:window.location.protocol+"//"+t.commonApi._userHost,localStorage.interval)switch(t.interval=localStorage.interval,t.interval){case"1":t.targetId=1,t.isActive=1;break;case"3":t.targetId=2,t.isActive=1;break;case"5":t.targetId=3,t.isActive=1;break;case"15":t.targetId=4,t.isActive=1;break;case"30":t.targetId=5,t.isActive=1;break;case"60":t.targetId=1,t.isActive=2;break;case"120":t.targetId=2,t.isActive=2;break;case"240":t.targetId=3,t.isActive=2;break;case"360":t.targetId=4,t.isActive=2;break;case"720":t.targetId=5,t.isActive=2;break;case"1D":t.isActive=3;break;case"1W":t.isActive=4;break;case"1M":t.isActive=5;break;default:t.isActive=3;break}function e(t){return t.split("_")[0]||"en"}t.getTradingView=function(){localStorage.interval&&(t.interval=localStorage.interval),t.widget=window.tvWidget=new window.TradingView.widget({width:"100%",height:"100%",debug:!1,symbol:t.pairId,interval:t.interval,container_id:"tv_chart_container",timezone:"",datafeed:t.datafeed,library_path:"../../../../../static/charting_library/",locale:e(t.commonApi.lang),drawings_access:{type:"black",tools:[{name:"Regression Trend"}]},disabled_features:["use_localstorage_for_settings","header_symbol_search","header_screenshot","header_saveload","header_undo_redo","header_compare","header_chart_type","header_interval_dialog_button","left_toolbar","main_series_scale_menu","create_volume_indicator_by_default","legend_context_menu","timeframes_toolbar","header_resolutions"],enabled_features:["control_bar"],charts_storage_url:"http://saveload.tradingview.com",charts_storage_api_version:"1.1",client_id:"tradingview.com",toolbar_bg:"dark"==localStorage.getItem("theme")?"#02192d":"#FFFFFF",overrides:{"paneProperties.background":"dark"==localStorage.getItem("theme")?"#02192d":"#FFFFFF","paneProperties.leftAxisProperties.height":"50","paneProperties.rightAxisProperties.height":"50","paneProperties.stretchFactor.height":"200","mainSeriesProperties.candleStyle.upColor":"#33ae72","mainSeriesProperties.candleStyle.downColor":"#BC434C","mainSeriesProperties.candleStyle.drawWick":!0,"mainSeriesProperties.candleStyle.drawBorder":!0,"mainSeriesProperties.candleStyle.borderUpColor":"#33ae72","mainSeriesProperties.candleStyle.borderDownColor":"#BC434C","mainSeriesProperties.candleStyle.wickUpColor":"#33ae72","mainSeriesProperties.candleStyle.wickDownColor":"#BC434C",volumePaneSize:"tiny","symbolWatermarkProperties.color":"#ffffff","symbolWatermarkProperties.transparency":100,"scalesProperties.showRightScale":!0,"paneProperties.topMargin":15,"paneProperties.bottomMargin":5,"timeScale.rightOffset":1,"paneProperties.vertGridProperties.color":"dark"==localStorage.getItem("theme")?"#2B323F":"#dddddd","paneProperties.horzGridProperties.color":"dark"==localStorage.getItem("theme")?"#2B323F":"#dddddd","mainSeriesProperties.style":1,"mainSeriesProperties.hollowCandleStyle.upColor":"#33ae72","mainSeriesProperties.hollowCandleStyle.downColor":"#BC434C","mainSeriesProperties.hollowCandleStyle.drawWick":!0,"mainSeriesProperties.hollowCandleStyle.drawBorder":!0,"mainSeriesProperties.hollowCandleStyle.borderUpColor":"#33ae72","mainSeriesProperties.hollowCandleStyle.borderDownColor":"#BC434C","mainSeriesProperties.hollowCandleStyle.wickUpColor":"#33ae72","mainSeriesProperties.hollowCandleStyle.wickDownColor":"#BC434C","paneProperties.legendProperties.showLegend":!1,"scalesProperties.lineColor":"#69717E","scalesProperties.textColor":"#B0C1CE",bordercolor:"#02112c"},time_frames:[{text:"3y",resolution:"M"},{text:"1y",resolution:"W"},{text:"1m",resolution:"D"},{text:"7d",resolution:"60"},{text:"1d",resolution:"15"}],studies_overrides:{"volume.volume.color.0":"#BC434C","volume.volume.color.1":"#33ae72","volume.volume.transparency":50,"volume.volume.plottype":"columns","volume.volume ma.color":"#02112c","volume.volume ma.transparency":0,"volume.volume ma.linewidth":1,"volume.volume ma.plottype":"line","volume.show ma":!0},user_id:"public_user_id"}),t.iframeClickFun(),t.widget.onChartReady((function(){t.onChartRead()}))},t.onChartRead=function(){t.widget.chart().createStudy("Volume",!1,!1,[!0,10],null,{"volume ma.color":"#9A9A9A","volume ma.transparency":0,"volume ma.linewidth":1,"volume ma.plottype":"line"}),t.widget.chart().createStudy("Moving Average",!1,!1,[5],null,{"plot.color":"#9A9A9A"}),t.widget.chart().createStudy("Moving Average",!1,!1,[10],null,{"plot.color":"#FF9903"}),t.widget.chart().createStudy("Moving Average",!1,!1,[20],null,{"plot.color":"#FF00FF"}),t.widget.chart().createStudy("Moving Average",!1,!1,[60],null,{"plot.color":"#33ae72"}),t.widget.chart().setResolution(t.interval,(function(t){})),setTimeout((function(){t.loading=!1}),100)},t.setSymbolType=function(){localStorage.interval&&(t.interval=localStorage.interval),t.widget.setSymbol(t.pairId,t.interval,(function(t){}))},t.setInterval=function(){localStorage.interval=t.interval,t.widget.chart().setResolution(t.interval,(function(t){}))},t.remove=function(){t.widget.remove()},t.getTradingView()}))},beforeDestroy:function(){l["a"].unregister(this),this.allowRequests=!1}},b=g,f=(e("0ca7"),e("2877")),y=Object(f["a"])(b,s,i,!1,null,"7ceece4f",null);a["a"]=y.exports}}]);